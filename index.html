<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Ehson - To'liq Global Xayriya Platformasi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }
        
        :root {
            --primary-green: #10b981;
            --primary-blue: #3b82f6;
            --primary-yellow: #f59e0b;
            --accent-teal: #14b8a6;
            --accent-indigo: #6366f1;
            --accent-orange: #f97316;
            --accent-emerald: #059669;
            --accent-sky: #0ea5e9;
            --accent-amber: #d97706;
        }
        
        /* Global Sync Animation */
        @keyframes globalSync {
            0% { transform: scale(1) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.1) rotate(180deg); opacity: 0.8; }
            100% { transform: scale(1) rotate(360deg); opacity: 1; }
        }
        
        /* Morphing Gradients */
        .morphing-gradient {
            background: linear-gradient(45deg, var(--primary-green), var(--primary-blue), var(--primary-yellow), var(--accent-teal));
            background-size: 400% 400%;
            animation: morphingGradient 8s ease-in-out infinite;
        }
        
        @keyframes morphingGradient {
            0% { background-position: 0% 50%; }
            25% { background-position: 100% 50%; }
            50% { background-position: 100% 100%; }
            75% { background-position: 50% 100%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Neon Effects */
        .neon-glow {
            text-shadow: 0 0 5px currentColor, 0 0 10px currentColor, 0 0 15px currentColor;
            animation: neonPulse 2s ease-in-out infinite alternate;
        }
        
        @keyframes neonPulse {
            from { text-shadow: 0 0 5px currentColor, 0 0 10px currentColor, 0 0 15px currentColor; }
            to { text-shadow: 0 0 10px currentColor, 0 0 20px currentColor, 0 0 30px currentColor; }
        }
        
        /* Particle System */
        .particle-container {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
        }
        
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            animation: particleFloat 15s infinite linear;
        }
        
        @keyframes particleFloat {
            0% { transform: translateY(100vh) translateX(0) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100px) translateX(100px) rotate(360deg); opacity: 0; }
        }
        
        /* Glass Morphism 2.0 */
        .glass-morphism {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .glass-morphism-dark {
            background: rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Elastic Animations */
        .elastic-hover {
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .elastic-hover:hover {
            transform: scale(1.05) translateY(-5px);
        }
        
        /* 3D Transforms */
        .card-3d {
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        
        .card-3d:hover {
            transform: rotateY(10deg) rotateX(5deg) scale(1.02);
        }
        
        /* Advanced Button Styles */
        .btn-primary {
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--primary-blue) 50%, var(--accent-teal) 100%);
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s;
        }
        
        .btn-primary:hover::before {
            left: 100%;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 20px 40px rgba(16, 185, 129, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, var(--primary-yellow) 0%, var(--accent-orange) 100%);
            transition: all 0.4s ease;
        }
        
        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(245, 158, 11, 0.4);
        }
        
        .btn-admin {
            background: linear-gradient(135deg, #8b5cf6 0%, #a855f7 50%, #c084fc 100%);
            transition: all 0.4s ease;
        }
        
        .btn-admin:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(139, 92, 246, 0.4);
        }
        
        /* Modal Animations */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
        }
        
        .modal-content {
            transform: scale(0.8) translateY(50px);
            transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        .modal.show .modal-content {
            transform: scale(1) translateY(0);
        }
        
        /* Progress Bars with Animations */
        .progress-bar {
            background: linear-gradient(90deg, var(--primary-green), var(--accent-teal), var(--primary-blue));
            border-radius: 9999px;
            position: relative;
            overflow: hidden;
            transition: width 1.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* Campaign Cards */
        .campaign-card {
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .campaign-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.8s;
        }
        
        .campaign-card:hover::before {
            transform: translateX(100%);
        }
        
        .campaign-card:hover {
            transform: translateY(-15px) scale(1.03);
            box-shadow: 0 30px 60px rgba(0,0,0,0.2);
        }
        
        /* Notification System */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1100;
            transform: translateX(400px);
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        /* Loading Animations */
        .loading-spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid var(--primary-blue);
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Admin Panel Styles */
        .admin-sidebar {
            position: fixed;
            left: -300px;
            top: 0;
            width: 300px;
            height: 100vh;
            background: linear-gradient(180deg, #1f2937 0%, #111827 100%);
            z-index: 2000;
            transition: left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow-y: auto;
        }
        
        .admin-sidebar.show {
            left: 0;
        }
        
        .admin-content {
            margin-left: 0;
            transition: margin-left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .admin-content.shifted {
            margin-left: 300px;
        }
        
        .admin-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            transition: all 0.3s ease;
        }
        
        .admin-card:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }
        
        /* Registration Form Styles */
        .registration-step {
            display: none;
        }
        
        .registration-step.active {
            display: block;
            animation: slideInRight 0.5s ease;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* Advertisement Styles */
        .ad-banner {
            position: relative;
            overflow: hidden;
            border-radius: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .ad-video {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 12px;
        }
        
        /* Payment Modal Styles */
        .payment-method {
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .payment-method:hover {
            border-color: var(--primary-blue);
            transform: translateY(-2px);
        }
        
        .payment-method.selected {
            border-color: var(--primary-green);
            background: rgba(16, 185, 129, 0.1);
        }
        
        /* File Upload Styles */
        .file-upload-area {
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            padding: 40px 20px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .file-upload-area:hover {
            border-color: var(--primary-blue);
            background: rgba(59, 130, 246, 0.1);
        }
        
        .file-upload-area.dragover {
            border-color: var(--primary-green);
            background: rgba(16, 185, 129, 0.1);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .admin-sidebar {
                width: 100%;
                left: -100%;
            }
            
            .admin-content.shifted {
                margin-left: 0;
            }
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-indigo));
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--accent-indigo), var(--primary-blue));
        }

        /* Additional styles from second code */
        .gradient-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
        }

        .payment-method-card {
            transition: all 0.3s ease;
        }
        
        .payment-method-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .payment-method-card.selected {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }

        .mobile-menu {
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        
        .mobile-menu.show {
            transform: translateX(0);
        }
        
        .payment-step {
            display: none;
        }
        
        .payment-step.active {
            display: block;
        }

        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .admin-tab {
            transition: all 0.3s ease;
        }
        
        .admin-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .profile-tab {
            transition: all 0.3s ease;
        }
        
        .profile-tab.active {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Global Loading Overlay -->
    <div id="globalLoading" class="fixed inset-0 bg-black bg-opacity-80 backdrop-blur-lg z-50 flex items-center justify-center" style="display: none;">
        <div class="text-center text-white">
            <div class="w-16 h-16 border-4 border-white border-opacity-30 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"></div>
            <h3 class="text-xl font-bold mb-2">Yuklanmoqda...</h3>
            <p class="text-gray-300">Tizim ma'lumotlari sinxronlanmoqda</p>
        </div>
    </div>

    <!-- Connection Status -->
    <div id="connectionStatus" class="fixed top-20 right-4 z-50 px-3 py-2 rounded-lg text-sm font-medium bg-green-500 text-white">
        <i class="fas fa-wifi mr-2"></i>Ulangan
    </div>

    <!-- Online Users Counter -->
    <div id="onlineUsers" class="fixed bottom-20 right-4 z-50 bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-4 py-3 rounded-full shadow-lg">
        <i class="fas fa-users mr-2"></i>
        <span id="onlineCount">1,247</span> foydalanuvchi onlayn
    </div>

    <!-- Live Activity Feed -->
    <div id="activityFeed" class="fixed bottom-80 right-4 z-50 w-80 max-h-96 bg-white rounded-xl shadow-2xl overflow-hidden transform translate-x-full transition-transform duration-500">
        <div class="p-4 bg-gradient-to-r from-blue-500 to-indigo-600 text-white">
            <h4 class="font-bold flex items-center">
                <i class="fas fa-broadcast-tower mr-2"></i>
                Jonli Faoliyat
            </h4>
            <p class="text-xs opacity-90">Real vaqtda yangilanishlar</p>
        </div>
        <div id="activityList" class="max-h-80 overflow-y-auto">
            <!-- Activity items will be added here -->
        </div>
    </div>

    <!-- Global Stats Ticker -->
    <div class="fixed bottom-0 left-0 right-0 bg-gradient-to-r from-green-500 via-blue-500 to-yellow-500 text-white py-2 z-40 overflow-hidden">
        <div class="ticker-content flex animate-pulse">
            <div class="flex items-center space-x-8 whitespace-nowrap">
                <span><i class="fas fa-heart mr-2"></i>Jami xayriya: <span id="tickerTotalRaised">$2,500,000</span></span>
                <span><i class="fas fa-users mr-2"></i>Faol xayriyachilar: <span id="tickerActiveDonors">15,678</span></span>
                <span><i class="fas fa-bullhorn mr-2"></i>Faol kampaniyalar: <span id="tickerActiveCampaigns">1,247</span></span>
                <span><i class="fas fa-globe mr-2"></i>47 mamlakat</span>
            </div>
        </div>
    </div>

    <!-- Admin Sidebar -->
    <div id="adminSidebar" class="admin-sidebar">
        <div class="p-6 border-b border-gray-700">
            <div class="flex items-center space-x-3">
                <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full flex items-center justify-center">
                    <i class="fas fa-crown text-white text-xl"></i>
                </div>
                <div>
                    <h3 class="text-white font-bold text-lg">Admin Panel</h3>
                    <p class="text-gray-400 text-sm">Jasurbek Jolanboyev</p>
                </div>
            </div>
        </div>
        
        <nav class="p-4">
            <div class="space-y-2">
                <button class="admin-nav-item w-full text-left px-4 py-3 text-white hover:bg-white hover:bg-opacity-10 rounded-lg transition-all flex items-center" data-section="dashboard">
                    <i class="fas fa-tachometer-alt mr-3 text-blue-400"></i>
                    Boshqaruv paneli
                </button>
                <button class="admin-nav-item w-full text-left px-4 py-3 text-white hover:bg-white hover:bg-opacity-10 rounded-lg transition-all flex items-center" data-section="users">
                    <i class="fas fa-users mr-3 text-green-400"></i>
                    Foydalanuvchilar
                </button>
                <button class="admin-nav-item w-full text-left px-4 py-3 text-white hover:bg-white hover:bg-opacity-10 rounded-lg transition-all flex items-center" data-section="campaigns">
                    <i class="fas fa-bullhorn mr-3 text-yellow-400"></i>
                    Kampaniyalar
                </button>
                <button class="admin-nav-item w-full text-left px-4 py-3 text-white hover:bg-white hover:bg-opacity-10 rounded-lg transition-all flex items-center" data-section="donations">
                    <i class="fas fa-heart mr-3 text-red-400"></i>
                    Xayriyalar
                </button>
                <button class="admin-nav-item w-full text-left px-4 py-3 text-white hover:bg-white hover:bg-opacity-10 rounded-lg transition-all flex items-center" data-section="applications">
                    <i class="fas fa-file-alt mr-3 text-purple-400"></i>
                    Arizalar
                </button>
                <button class="admin-nav-item w-full text-left px-4 py-3 text-white hover:bg-white hover:bg-opacity-10 rounded-lg transition-all flex items-center" data-section="advertisements">
                    <i class="fas fa-ad mr-3 text-orange-400"></i>
                    Reklamalar
                </button>
                <button class="admin-nav-item w-full text-left px-4 py-3 text-white hover:bg-white hover:bg-opacity-10 rounded-lg transition-all flex items-center" data-section="settings">
                    <i class="fas fa-cog mr-3 text-indigo-400"></i>
                    Sozlamalar
                </button>
                <button class="admin-nav-item w-full text-left px-4 py-3 text-white hover:bg-white hover:bg-opacity-10 rounded-lg transition-all flex items-center" data-section="analytics">
                    <i class="fas fa-chart-bar mr-3 text-teal-400"></i>
                    Analitika
                </button>
            </div>
        </nav>
        
        <div class="absolute bottom-4 left-4 right-4">
            <button id="closeAdminPanel" class="w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition-all">
                <i class="fas fa-times mr-2"></i>Yopish
            </button>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="morphing-gradient text-white shadow-2xl sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-3">
                    <div class="glass-morphism p-3 rounded-xl">
                        <i class="fas fa-heart text-2xl neon-glow"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold neon-glow">E-Ehson Global</h1>
                        <p class="text-sm opacity-90">To'liq Xayriya Platformasi</p>
                    </div>
                </div>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center space-x-6">
                    <a href="#campaigns" class="hover:text-yellow-200 transition-colors font-medium elastic-hover">Kampaniyalar</a>
                    <a href="#applications" class="hover:text-yellow-200 transition-colors font-medium elastic-hover">Arizalar</a>
                    <a href="#about" class="hover:text-yellow-200 transition-colors font-medium elastic-hover">Biz haqimizda</a>
                    <a href="#contact" class="hover:text-yellow-200 transition-colors font-medium elastic-hover">Aloqa</a>
                    <button id="toggleActivityFeed" class="hover:text-yellow-200 transition-colors font-medium elastic-hover">
                        <i class="fas fa-broadcast-tower mr-1"></i>Jonli Feed
                    </button>
                </div>
                
                <!-- User Menu -->
                <div class="flex items-center space-x-4">
                    <div id="guestMenu" class="flex items-center space-x-3">
                        <button id="loginBtn" class="glass-morphism hover:bg-white hover:bg-opacity-20 px-4 py-2 rounded-lg transition-all font-medium elastic-hover">
                            <i class="fas fa-sign-in-alt mr-2"></i>Kirish
                        </button>
                        <button id="signupBtn" class="bg-white text-green-600 hover:bg-gray-100 px-4 py-2 rounded-lg font-medium transition-all elastic-hover">
                            <i class="fas fa-user-plus mr-2"></i>Ro'yxatdan o'tish
                        </button>
                    </div>
                    
                    <div id="userMenu" class="hidden flex items-center space-x-4">
                        <div class="relative">
                            <button id="profileDropdown" class="flex items-center space-x-2 glass-morphism px-4 py-2 rounded-lg hover:bg-white hover:bg-opacity-20 transition-all elastic-hover">
                                <div class="w-8 h-8 bg-white bg-opacity-30 rounded-full flex items-center justify-center">
                                    <i class="fas fa-user text-sm"></i>
                                </div>
                                <span id="userName">Foydalanuvchi</span>
                                <i class="fas fa-chevron-down text-sm"></i>
                            </button>
                            
                            <div id="dropdownMenu" class="hidden absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-2xl py-2 z-50 glass-morphism-dark">
                                <div class="px-4 py-3 border-b border-gray-100">
                                    <p class="font-medium text-white" id="userNameFull">Test Foydalanuvchi</p>
                                    <p class="text-sm text-gray-300" id="userPhone">+998 90 123 45 67</p>
                                </div>
                                <a href="#" id="myProfileLink" class="flex items-center px-4 py-3 text-white hover:bg-white hover:bg-opacity-10 elastic-hover">
                                    <i class="fas fa-user mr-3 text-blue-400"></i>Mening profilim
                                </a>
                                <a href="#" id="applyCharityLink" class="flex items-center px-4 py-3 text-white hover:bg-white hover:bg-opacity-10 elastic-hover">
                                    <i class="fas fa-file-alt mr-3 text-yellow-400"></i>Xayriya uchun ariza
                                </a>
                                <button id="adminPanelLink" class="flex items-center w-full px-4 py-3 text-white hover:bg-white hover:bg-opacity-10 elastic-hover">
                                    <i class="fas fa-crown mr-3 text-purple-400"></i>Admin panel
                                </button>
                                <div class="border-t border-gray-600 mt-2">
                                    <button id="logoutBtn" class="flex items-center w-full px-4 py-3 text-red-400 hover:bg-red-500 hover:bg-opacity-10 elastic-hover">
                                        <i class="fas fa-sign-out-alt mr-3"></i>Chiqish
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button id="menuBtn" class="md:hidden elastic-hover">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="mobile-menu fixed top-0 right-0 h-full w-80 bg-white shadow-2xl z-50 md:hidden">
        <div class="p-6">
            <div class="flex justify-between items-center mb-8">
                <h3 class="text-xl font-bold text-gray-800">Menyu</h3>
                <button id="closeMobileMenu" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div class="space-y-4">
                <a href="#campaigns" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100">
                    <i class="fas fa-bullhorn text-blue-500"></i>
                    <span>Kampaniyalar</span>
                </a>
                <a href="#applications" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100">
                    <i class="fas fa-file-alt text-orange-500"></i>
                    <span>Arizalar</span>
                </a>
                <a href="#about" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100">
                    <i class="fas fa-info-circle text-green-500"></i>
                    <span>Biz haqimizda</span>
                </a>
                <a href="#contact" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100">
                    <i class="fas fa-phone text-purple-500"></i>
                    <span>Aloqa</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div id="mainContent" class="admin-content">
        <!-- Hero Section -->
        <section class="morphing-gradient text-white py-20 relative overflow-hidden">
            <!-- Particle System -->
            <div class="particle-container">
                <div class="particle" style="left: 10%; animation-delay: 0s;"></div>
                <div class="particle" style="left: 20%; animation-delay: 2s;"></div>
                <div class="particle" style="left: 30%; animation-delay: 4s;"></div>
                <div class="particle" style="left: 40%; animation-delay: 6s;"></div>
                <div class="particle" style="left: 50%; animation-delay: 8s;"></div>
                <div class="particle" style="left: 60%; animation-delay: 10s;"></div>
                <div class="particle" style="left: 70%; animation-delay: 12s;"></div>
                <div class="particle" style="left: 80%; animation-delay: 14s;"></div>
                <div class="particle" style="left: 90%; animation-delay: 16s;"></div>
            </div>
            
            <div class="container mx-auto px-4 text-center relative z-10">
                <h2 class="text-5xl md:text-7xl font-bold mb-6 fade-in neon-glow">To'liq Global<br>Xayriya Platformasi</h2>
                <p class="text-xl md:text-2xl mb-8 opacity-90 max-w-4xl mx-auto fade-in">Dunyo bo'ylab millionlab odamlarga yordam bering. To'liq backend tizimi, to'lov tizimlari, SMS va email xizmatlari bilan jihozlangan professional platforma.</p>
                
                <!-- Live Global Stats -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8 fade-in">
                    <div class="glass-morphism p-4 rounded-xl">
                        <div class="text-2xl font-bold neon-glow" id="heroGlobalCampaigns">1,247</div>
                        <div class="text-sm opacity-80">Global Kampaniyalar</div>
                    </div>
                    <div class="glass-morphism p-4 rounded-xl">
                        <div class="text-2xl font-bold neon-glow" id="heroGlobalRaised">$2.5M</div>
                        <div class="text-sm opacity-80">Jami Yig'ilgan</div>
                    </div>
                    <div class="glass-morphism p-4 rounded-xl">
                        <div class="text-2xl font-bold neon-glow" id="heroGlobalDonors">15,678</div>
                        <div class="text-sm opacity-80">Global Xayriyachilar</div>
                    </div>
                    <div class="glass-morphism p-4 rounded-xl">
                        <div class="text-2xl font-bold neon-glow" id="heroCountries">47</div>
                        <div class="text-sm opacity-80">Mamlakatlar</div>
                    </div>
                </div>
                
                <div class="flex flex-col sm:flex-row gap-4 justify-center fade-in">
                    <button id="startDonatingBtn" class="btn-primary text-white px-8 py-4 rounded-xl font-bold text-lg elastic-hover">
                        <i class="fas fa-heart mr-2"></i>Xayriya Qilish
                    </button>
                    <button id="createCampaignBtn" class="btn-secondary text-white px-8 py-4 rounded-xl font-bold text-lg elastic-hover">
                        <i class="fas fa-plus mr-2"></i>Kampaniya Yaratish
                    </button>
                    <button id="viewGlobalStatsBtn" class="glass-morphism text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-white hover:bg-opacity-20 transition-all elastic-hover">
                        <i class="fas fa-globe mr-2"></i>Global Statistika
                    </button>
                </div>
            </div>
        </section>

        <!-- Stats Section from second code -->
        <section class="py-16 bg-white">
            <div class="container mx-auto px-4">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div class="text-center fade-in">
                        <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-bullhorn text-blue-600 text-2xl"></i>
                        </div>
                        <h3 class="text-3xl font-bold text-gray-800" id="totalCampaigns">3</h3>
                        <p class="text-gray-600 mt-2">Faol Kampaniyalar</p>
                    </div>
                    <div class="text-center fade-in">
                        <div class="bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-coins text-green-600 text-2xl"></i>
                        </div>
                        <h3 class="text-3xl font-bold text-gray-800" id="totalRaised">200,000,000 so'm</h3>
                        <p class="text-gray-600 mt-2">Jami Yig'ilgan</p>
                    </div>
                    <div class="text-center fade-in">
                        <div class="bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-users text-purple-600 text-2xl"></i>
                        </div>
                        <h3 class="text-3xl font-bold text-gray-800" id="totalDonors">990</h3>
                        <p class="text-gray-600 mt-2">Xayriyachilar</p>
                    </div>
                    <div class="text-center fade-in">
                        <div class="bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-hands-helping text-orange-600 text-2xl"></i>
                        </div>
                        <h3 class="text-3xl font-bold text-gray-800" id="totalHelped">0</h3>
                        <p class="text-gray-600 mt-2">Yordam Olganlar</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Advertisement Section -->
        <section id="advertisementSection" class="py-8 bg-gradient-to-r from-purple-100 to-pink-100">
            <div class="container mx-auto px-4">
                <div id="advertisementContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Advertisements will be loaded here -->
                </div>
            </div>
        </section>

        <!-- Categories Section from second code -->
        <section class="py-16 bg-gray-50">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">Xayriya Kategoriyalari</h2>
                    <p class="text-xl text-gray-600">Turli sohalarda yordam bering</p>
                </div>
                
                <div class="flex flex-wrap justify-center gap-4 mb-8">
                    <button class="category-filter active px-6 py-3 rounded-full bg-white text-gray-700 font-medium shadow-md" data-category="all">
                        Barchasi
                    </button>
                    <button class="category-filter px-6 py-3 rounded-full bg-white text-gray-700 font-medium shadow-md" data-category="health">
                        Sog'liqni saqlash
                    </button>
                    <button class="category-filter px-6 py-3 rounded-full bg-white text-gray-700 font-medium shadow-md" data-category="education">
                        Ta'lim
                    </button>
                    <button class="category-filter px-6 py-3 rounded-full bg-white text-gray-700 font-medium shadow-md" data-category="children">
                        Bolalar
                    </button>
                    <button class="category-filter px-6 py-3 rounded-full bg-white text-gray-700 font-medium shadow-md" data-category="emergency">
                        Favqulodda vaziyat
                    </button>
                    <button class="category-filter px-6 py-3 rounded-full bg-white text-gray-700 font-medium shadow-md" data-category="family">
                        Oilaviy muammolar
                    </button>
                </div>
            </div>
        </section>

        <!-- Global Campaigns Section -->
        <section id="campaigns" class="py-16 bg-gradient-to-br from-blue-50 via-green-50 to-yellow-50">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4 fade-in">Global Kampaniyalar</h2>
                    <p class="text-xl text-gray-600 fade-in">Dunyo bo'ylab faol kampaniyalar va real vaqtda yangilanishlar</p>
                </div>
                
                <!-- Global Campaign Filters -->
                <div class="flex flex-wrap justify-center gap-4 mb-8">
                    <button class="category-filter active px-6 py-3 rounded-full bg-white text-gray-700 font-medium shadow-lg elastic-hover" data-category="all">
                        <i class="fas fa-globe mr-2"></i>Barcha Mamlakatlar
                    </button>
                    <button class="category-filter px-6 py-3 rounded-full bg-white text-gray-700 font-medium shadow-lg elastic-hover" data-category="uzbekistan">
                        <i class="fas fa-flag mr-2"></i>O'zbekiston
                    </button>
                    <button class="category-filter px-6 py-3 rounded-full bg-white text-gray-700 font-medium shadow-lg elastic-hover" data-category="emergency">
                        <i class="fas fa-exclamation-triangle mr-2"></i>Favqulodda
                    </button>
                    <button class="category-filter px-6 py-3 rounded-full bg-white text-gray-700 font-medium shadow-lg elastic-hover" data-category="trending">
                        <i class="fas fa-fire mr-2"></i>Mashhur
                    </button>
                </div>
                
                <div id="globalCampaignsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Global campaigns will be loaded here -->
                </div>
                
                <div class="text-center mt-12">
                    <button id="loadMoreGlobalCampaigns" class="btn-secondary text-white px-8 py-3 rounded-xl font-medium elastic-hover">
                        <i class="fas fa-plus mr-2"></i>Ko'proq Global Kampaniyalar
                    </button>
                </div>
            </div>
        </section>

        <!-- Applications Section from second code -->
        <section id="applications" class="py-16 bg-gray-50">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">Yordam So'ralgan Arizalar</h2>
                    <p class="text-xl text-gray-600">Muhtoj oilalarga yordam bering</p>
                </div>
                
                <div id="applicationsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Sample applications from second code -->
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden border-l-4 border-red-500">
                        <div class="relative">
                            <div class="w-full h-48 bg-gradient-to-r from-red-400 to-red-600 flex items-center justify-center">
                                <div class="text-center text-white">
                                    <i class="fas fa-user-md text-4xl mb-2"></i>
                                    <p class="text-lg font-semibold">Operatsiya Kerak</p>
                                </div>
                            </div>
                            <div class="absolute top-4 left-4">
                                <span class="bg-red-500 text-white px-3 py-1 rounded-full text-sm font-medium">Sog'liqni saqlash</span>
                            </div>
                            <div class="absolute top-4 right-4">
                                <span class="bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium">Tasdiqlangan</span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-2">Onaning operatsiyasi uchun yordam</h3>
                            <p class="text-gray-600 mb-4 line-clamp-3">Onamning jiddiy operatsiyasi kerak, moliyaviy imkoniyat yo'q. Shifokorlar operatsiyani kechiktirish mumkin emasligini aytishdi.</p>
                            
                            <div class="space-y-2 mb-4">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Kerakli miqdor:</span>
                                    <span class="font-bold text-red-600">25,000,000 so'm</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Ariza beruvchi:</span>
                                    <span class="font-medium">Dilshod Rahimov</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Sana:</span>
                                    <span class="text-sm">5-fevral, 2024</span>
                                </div>
                            </div>
                            
                            <button class="w-full btn-primary text-white py-2 px-4 rounded-lg font-medium view-application-btn" data-application-id="1">
                                <i class="fas fa-eye mr-2"></i>Batafsil ko'rish
                            </button>
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden border-l-4 border-yellow-500">
                        <div class="relative">
                            <div class="w-full h-48 bg-gradient-to-r from-yellow-400 to-yellow-600 flex items-center justify-center">
                                <div class="text-center text-white">
                                    <i class="fas fa-child text-4xl mb-2"></i>
                                    <p class="text-lg font-semibold">Bolalar Bog'chasi</p>
                                </div>
                            </div>
                            <div class="absolute top-4 left-4">
                                <span class="bg-yellow-500 text-white px-3 py-1 rounded-full text-sm font-medium">Bolalar</span>
                            </div>
                            <div class="absolute top-4 right-4">
                                <span class="bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-medium">Kutilmoqda</span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-2">Bolalar bog'chasi uchun o'yinchoqlar</h3>
                            <p class="text-gray-600 mb-4 line-clamp-3">Mahalla bolalar bog'chasida o'yinchoqlar yetishmaydi. 50 nafar bolaga yangi o'yinchoqlar kerak.</p>
                            
                            <div class="space-y-2 mb-4">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Kerakli miqdor:</span>
                                    <span class="font-bold text-yellow-600">5,000,000 so'm</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Ariza beruvchi:</span>
                                    <span class="font-medium">Malika Karimova</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Sana:</span>
                                    <span class="text-sm">10-fevral, 2024</span>
                                </div>
                            </div>
                            
                            <button class="w-full btn-primary text-white py-2 px-4 rounded-lg font-medium view-application-btn" data-application-id="2">
                                <i class="fas fa-eye mr-2"></i>Batafsil ko'rish
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="text-center mt-12">
                    <button id="loadMoreApplications" class="bg-gray-200 text-gray-700 px-8 py-3 rounded-lg font-medium hover:bg-gray-300 transition-all">
                        Ko'proq yuklash
                    </button>
                </div>
            </div>
        </section>

        <!-- About Section from second code -->
        <section id="about" class="py-16 bg-white">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">Biz Haqimizda</h2>
                    <p class="text-xl text-gray-600">E-Ehson - O'zbekistondagi eng ishonchli xayriya platformasi</p>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                    <div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Bizning Missiyamiz</h3>
                        <p class="text-gray-600 mb-6">
                            E-Ehson platformasi orqali biz O'zbekiston xalqining xayriya qilish madaniyatini rivojlantirish va 
                            muhtoj odamlarga yordam berishni osonlashtirishni maqsad qilganmiz. Har bir xayriya, qanchalik kichik 
                            bo'lmasin, birovning hayotini yaxshilaydi.
                        </p>
                        <div class="space-y-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
                                    <i class="fas fa-check text-green-600"></i>
                                </div>
                                <span class="text-gray-700">100% shaffoflik va hisobotlar</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
                                    <i class="fas fa-check text-green-600"></i>
                                </div>
                                <span class="text-gray-700">Xavfsiz to'lov tizimlari</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
                                    <i class="fas fa-check text-green-600"></i>
                                </div>
                                <span class="text-gray-700">24/7 qo'llab-quvvatlash</span>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-8 text-white">
                        <div class="text-center">
                            <i class="fas fa-heart text-6xl mb-6 opacity-80"></i>
                            <h4 class="text-2xl font-bold mb-4">Bizning Qadriyatlarimiz</h4>
                            <ul class="space-y-3 text-left">
                                <li class="flex items-center space-x-3">
                                    <i class="fas fa-star text-yellow-300"></i>
                                    <span>Halollik va ishonch</span>
                                </li>
                                <li class="flex items-center space-x-3">
                                    <i class="fas fa-star text-yellow-300"></i>
                                    <span>Shaffoflik va ochiqlik</span>
                                </li>
                                <li class="flex items-center space-x-3">
                                    <i class="fas fa-star text-yellow-300"></i>
                                    <span>Ijtimoiy mas'uliyat</span>
                                </li>
                                <li class="flex items-center space-x-3">
                                    <i class="fas fa-star text-yellow-300"></i>
                                    <span>Innovatsiya va rivojlanish</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section from second code -->
        <section id="contact" class="py-16 bg-gray-50">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">Biz Bilan Bog'laning</h2>
                    <p class="text-xl text-gray-600">Savollaringiz bormi? Biz sizga yordam berishga tayyormiz</p>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                    <div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Aloqa Ma'lumotlari</h3>
                        <div class="space-y-6">
                            <div class="flex items-center space-x-4">
                                <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                                    <i class="fas fa-phone text-blue-600"></i>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-800">Telefon</p>
                                    <p class="text-gray-600">+998 95 888 38 51</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-4">
                                <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                                    <i class="fas fa-envelope text-green-600"></i>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-800">Email</p>
                                    <p class="text-gray-600">ehsonapp@gmail.com</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-4">
                                <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center">
                                    <i class="fas fa-map-marker-alt text-red-600"></i>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-800">Manzil</p>
                                    <p class="text-gray-600">Toshkent, O'zbekiston</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-4">
                                <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center">
                                    <i class="fas fa-clock text-purple-600"></i>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-800">Ish vaqti</p>
                                    <p class="text-gray-600">Dushanba - Juma: 9:00 - 18:00</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-2xl shadow-lg p-8">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Xabar Yuborish</h3>
                        <form id="contactForm" class="space-y-6">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Ism</label>
                                    <input type="text" id="contactName" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ismingiz" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Telefon</label>
                                    <input type="tel" id="contactPhone" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="+998 90 123 45 67" required>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                <input type="email" id="contactEmail" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="email@example.com" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Mavzu</label>
                                <input type="text" id="contactSubject" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Xabar mavzusi" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Xabar</label>
                                <textarea id="contactMessage" rows="5" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none" placeholder="Xabaringizni yozing..." required></textarea>
                            </div>
                            <button type="submit" class="w-full btn-primary text-white py-3 rounded-xl font-medium">
                                <i class="fas fa-paper-plane mr-2"></i>Xabar Yuborish
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- Help Section from second code -->
        <section id="help" class="py-16 bg-white">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">Yordam</h2>
                    <p class="text-xl text-gray-600">Tez-tez so'raladigan savollar va javoblar</p>
                </div>
                
                <div class="max-w-4xl mx-auto">
                    <div class="space-y-6">
                        <div class="bg-gray-50 rounded-2xl p-6">
                            <button class="faq-question w-full text-left flex justify-between items-center" data-target="faq1">
                                <h3 class="text-lg font-bold text-gray-800">Qanday qilib xayriya qilishim mumkin?</h3>
                                <i class="fas fa-chevron-down text-gray-500"></i>
                            </button>
                            <div id="faq1" class="faq-answer hidden mt-4 text-gray-600">
                                <p>Xayriya qilish juda oson! Kampaniyalar bo'limidan kerakli kampaniyani tanlang, "Xayriya qilish" tugmasini bosing va miqdorni kiriting. To'lovni bank kartasi, Payme yoki Click orqali amalga oshirishingiz mumkin.</p>
                            </div>
                        </div>
                        
                        <div class="bg-gray-50 rounded-2xl p-6">
                            <button class="faq-question w-full text-left flex justify-between items-center" data-target="faq2">
                                <h3 class="text-lg font-bold text-gray-800">Mening pulim xavfsizmi?</h3>
                                <i class="fas fa-chevron-down text-gray-500"></i>
                            </button>
                            <div id="faq2" class="faq-answer hidden mt-4 text-gray-600">
                                <p>Ha, mutlaqo xavfsiz! Biz eng zamonaviy shifrlash texnologiyalaridan foydalanamiz va barcha to'lovlar xalqaro standartlar bo'yicha himoyalangan. Sizning moliyaviy ma'lumotlaringiz hech qachon uchinchi shaxslarga berilmaydi.</p>
                            </div>
                        </div>
                        
                        <div class="bg-gray-50 rounded-2xl p-6">
                            <button class="faq-question w-full text-left flex justify-between items-center" data-target="faq3">
                                <h3 class="text-lg font-bold text-gray-800">Yordam uchun qanday ariza berishim mumkin?</h3>
                                <i class="fas fa-chevron-down text-gray-500"></i>
                            </button>
                            <div id="faq3" class="faq-answer hidden mt-4 text-gray-600">
                                <p>Agar sizga yordam kerak bo'lsa, "Xayriya uchun ariza" tugmasini bosing va barcha kerakli ma'lumotlarni to'ldiring. Bizning moderatorlar 3-7 ish kuni ichida arizangizni ko'rib chiqadi va javob beradi.</p>
                            </div>
                        </div>
                        
                        <div class="bg-gray-50 rounded-2xl p-6">
                            <button class="faq-question w-full text-left flex justify-between items-center" data-target="faq4">
                                <h3 class="text-lg font-bold text-gray-800">Kampaniya yaratishim mumkinmi?</h3>
                                <i class="fas fa-chevron-down text-gray-500"></i>
                            </button>
                            <div id="faq4" class="faq-answer hidden mt-4 text-gray-600">
                                <p>Hozircha kampaniya yaratish faqat moderatorlar tomonidan amalga oshiriladi. Agar sizda kampaniya g'oyasi bo'lsa, "Xayriya uchun ariza" orqali murojaat qiling va biz sizga yordam beramiz.</p>
                            </div>
                        </div>
                        
                        <div class="bg-gray-50 rounded-2xl p-6">
                            <button class="faq-question w-full text-left flex justify-between items-center" data-target="faq5">
                                <h3 class="text-lg font-bold text-gray-800">Hisobotlarni qayerdan ko'rishim mumkin?</h3>
                                <i class="fas fa-chevron-down text-gray-500"></i>
                            </button>
                            <div id="faq5" class="faq-answer hidden mt-4 text-gray-600">
                                <p>Har bir kampaniya sahifasida real vaqtda yangilanuvchi hisobotlar mavjud. Shuningdek, oylik va yillik umumiy hisobotlarni bizning rasmiy kanallarimizda e'lon qilamiz.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Terms Section from second code -->
        <section id="terms" class="py-16 bg-gray-50">
            <div class="container mx-auto px-4">
                <div class="max-w-4xl mx-auto">
                    <h2 class="text-4xl font-bold text-gray-800 mb-8 text-center">Foydalanish Shartlari</h2>
                    
                    <div class="bg-white rounded-2xl shadow-lg p-8 space-y-6">
                        <div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">1. Umumiy qoidalar</h3>
                            <p class="text-gray-600">E-Ehson platformasidan foydalanish orqali siz ushbu shartlarga rozilik bildirasiz. Agar shartlar sizga mos kelmasa, platformadan foydalanmang.</p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">2. Xayriya qoidalari</h3>
                            <p class="text-gray-600">Barcha xayriya mablag'lari to'g'ridan-to'g'ri kampaniya maqsadlariga sarflanadi. Biz har bir to'lovning shaffofligini ta'minlaymiz.</p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">3. Foydalanuvchi mas'uliyati</h3>
                            <p class="text-gray-600">Foydalanuvchilar to'g'ri va aniq ma'lumot berishga majbur. Yolg'on ma'lumot berish hisobni bloklashga olib kelishi mumkin.</p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">4. Maxfiylik</h3>
                            <p class="text-gray-600">Sizning shaxsiy ma'lumotlaringiz himoyalangan va uchinchi shaxslarga berilmaydi. Batafsil ma'lumot uchun maxfiylik siyosatini o'qing.</p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">5. O'zgarishlar</h3>
                            <p class="text-gray-600">Biz ushbu shartlarni istalgan vaqtda o'zgartirish huquqini saqlab qolamiz. O'zgarishlar saytda e'lon qilinadi.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Privacy Section from second code -->
        <section id="privacy" class="py-16 bg-white">
            <div class="container mx-auto px-4">
                <div class="max-w-4xl mx-auto">
                    <h2 class="text-4xl font-bold text-gray-800 mb-8 text-center">Maxfiylik Siyosati</h2>
                    
                    <div class="bg-gray-50 rounded-2xl shadow-lg p-8 space-y-6">
                        <div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">Ma'lumotlar yig'ish</h3>
                            <p class="text-gray-600">Biz faqat xizmat ko'rsatish uchun zarur bo'lgan ma'lumotlarni yig'amiz: ism, telefon raqam, email manzil va to'lov ma'lumotlari.</p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">Ma'lumotlardan foydalanish</h3>
                            <p class="text-gray-600">Sizning ma'lumotlaringiz faqat xayriya jarayonlarini ta'minlash, hisobotlar tayyorlash va sizga xizmat ko'rsatish uchun ishlatiladi.</p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">Ma'lumotlar himoyasi</h3>
                            <p class="text-gray-600">Barcha ma'lumotlar shifrlangan holda saqlanadi va xavfsizlik bo'yicha eng yuqori standartlarga javob beradi.</p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">Uchinchi shaxslar</h3>
                            <p class="text-gray-600">Sizning roziligingiz bo'lmasa, ma'lumotlaringiz hech qachon uchinchi shaxslarga berilmaydi yoki sotilmaydi.</p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">Huquqlaringiz</h3>
                            <p class="text-gray-600">Siz o'z ma'lumotlaringizni ko'rish, o'zgartirish yoki o'chirish huquqiga egasiz. Buning uchun biz bilan bog'laning.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer from second code -->
        <footer class="bg-gray-800 text-white py-12">
            <div class="container mx-auto px-4">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div>
                        <div class="flex items-center space-x-3 mb-6">
                            <div class="bg-blue-600 p-2 rounded-lg">
                                <i class="fas fa-heart text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold">E-Ehson</h3>
                                <p class="text-sm opacity-75">Xayriya Platformasi</p>
                            </div>
                        </div>
                        <p class="text-gray-300 mb-4">Yaxshilik qiling, dunyoni o'zgartiring. Har bir xayriya birovning hayotini yaxshilaydi.</p>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-bold mb-4">Tezkor Havolalar</h4>
                        <ul class="space-y-2">
                            <li><a href="#campaigns" class="text-gray-300 hover:text-white transition-colors">Kampaniyalar</a></li>
                            <li><a href="#applications" class="text-gray-300 hover:text-white transition-colors">Arizalar</a></li>
                            <li><a href="#about" class="text-gray-300 hover:text-white transition-colors">Biz haqimizda</a></li>
                            <li><a href="#contact" class="text-gray-300 hover:text-white transition-colors">Aloqa</a></li>
                            <li><a href="#help" class="text-gray-300 hover:text-white transition-colors">Yordam</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-bold mb-4">Xizmatlar</h4>
                        <ul class="space-y-2">
                            <li><a href="#donate" class="text-gray-300 hover:text-white transition-colors">Xayriya qilish</a></li>
                            <li><a href="#create-campaign" class="text-gray-300 hover:text-white transition-colors">Kampaniya yaratish</a></li>
                            <li><a href="#get-help" class="text-gray-300 hover:text-white transition-colors">Yordam olish</a></li>
                            <li><a href="#reports" class="text-gray-300 hover:text-white transition-colors">Hisobot</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-bold mb-4">Bog'lanish</h4>
                        <ul class="space-y-2 mb-6">
                            <li class="flex items-center space-x-2">
                                <i class="fas fa-phone text-blue-400"></i>
                                <span class="text-gray-300">+998 95 888 38 51</span>
                            </li>
                            <li class="flex items-center space-x-2">
                                <i class="fas fa-envelope text-green-400"></i>
                                <span class="text-gray-300">ehsonapp@gmail.com</span>
                            </li>
                            <li class="flex items-center space-x-2">
                                <i class="fas fa-map-marker-alt text-red-400"></i>
                                <span class="text-gray-300">Toshkent, O'zbekiston</span>
                            </li>
                        </ul>
                        
                        <div>
                            <h5 class="font-medium mb-3">Ijtimoiy tarmoqlar</h5>
                            <div class="flex space-x-3">
                                <a href="https://t.me/ehsonapp" target="_blank" rel="noopener noreferrer" class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center hover:bg-blue-600 transition-colors">
                                    <i class="fab fa-telegram text-white"></i>
                                </a>
                                <a href="https://facebook.com/ehsonapp" target="_blank" rel="noopener noreferrer" class="w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors">
                                    <i class="fab fa-facebook text-white"></i>
                                </a>
                                <a href="https://instagram.com/ehsonapp" target="_blank" rel="noopener noreferrer" class="w-10 h-10 bg-pink-500 rounded-full flex items-center justify-center hover:bg-pink-600 transition-colors">
                                    <i class="fab fa-instagram text-white"></i>
                                </a>
                                <a href="https://youtube.com/@ehsonapp" target="_blank" rel="noopener noreferrer" class="w-10 h-10 bg-red-500 rounded-full flex items-center justify-center hover:bg-red-600 transition-colors">
                                    <i class="fab fa-youtube text-white"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="border-t border-gray-700 mt-8 pt-8 text-center">
                    <div class="flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0">
                        <p class="text-gray-400">&copy; 2024 E-Ehson. Barcha huquqlar himoyalangan.</p>
                        <div class="flex space-x-6">
                            <a href="#terms" class="text-gray-400 hover:text-white transition-colors">
                                Foydalanish shartlari
                            </a>
                            <a href="#privacy" class="text-gray-400 hover:text-white transition-colors">
                                Maxfiylik siyosati
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Admin Panel Content -->
    <div id="adminContent" class="hidden fixed inset-0 bg-gray-900 z-40 overflow-y-auto">
        <!-- Admin Dashboard -->
        <div id="adminDashboard" class="admin-section p-8">
            <div class="max-w-7xl mx-auto">
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-white mb-2">Boshqaruv Paneli</h1>
                    <p class="text-gray-400">Platformaning umumiy ko'rinishi va statistikasi</p>
                </div>
                
                <!-- Quick Stats -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="admin-card p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-400 text-sm">Jami Foydalanuvchilar</p>
                                <p class="text-2xl font-bold text-white">15,678</p>
                            </div>
                            <div class="bg-blue-500 p-3 rounded-full">
                                <i class="fas fa-users text-white"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-card p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-400 text-sm">Faol Kampaniyalar</p>
                                <p class="text-2xl font-bold text-white">1,247</p>
                            </div>
                            <div class="bg-green-500 p-3 rounded-full">
                                <i class="fas fa-bullhorn text-white"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-card p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-400 text-sm">Jami Xayriya</p>
                                <p class="text-2xl font-bold text-white">$2.5M</p>
                            </div>
                            <div class="bg-yellow-500 p-3 rounded-full">
                                <i class="fas fa-dollar-sign text-white"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-card p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-400 text-sm">Kutilayotgan Arizalar</p>
                                <p class="text-2xl font-bold text-white">23</p>
                            </div>
                            <div class="bg-red-500 p-3 rounded-full">
                                <i class="fas fa-file-alt text-white"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Users Management -->
        <div id="adminUsers" class="admin-section hidden p-8">
            <div class="max-w-7xl mx-auto">
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h1 class="text-3xl font-bold text-white mb-2">Foydalanuvchilar</h1>
                        <p class="text-gray-400">Barcha foydalanuvchilarni boshqarish</p>
                    </div>
                    <button id="addUserBtn" class="btn-admin text-white px-6 py-3 rounded-lg font-medium">
                        <i class="fas fa-plus mr-2"></i>Yangi Foydalanuvchi
                    </button>
                </div>
                
                <!-- Users Table -->
                <div class="admin-card p-6">
                    <div class="overflow-x-auto">
                        <table class="w-full text-white">
                            <thead>
                                <tr class="border-b border-gray-700">
                                    <th class="text-left py-3 px-4">ID</th>
                                    <th class="text-left py-3 px-4">Ism</th>
                                    <th class="text-left py-3 px-4">Telefon</th>
                                    <th class="text-left py-3 px-4">Email</th>
                                    <th class="text-left py-3 px-4">Status</th>
                                    <th class="text-left py-3 px-4">Amallar</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <!-- Users will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Campaigns Management -->
        <div id="adminCampaigns" class="admin-section hidden p-8">
            <div class="max-w-7xl mx-auto">
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h1 class="text-3xl font-bold text-white mb-2">Kampaniyalar</h1>
                        <p class="text-gray-400">Barcha kampaniyalarni boshqarish</p>
                    </div>
                    <button id="addCampaignBtn" class="btn-admin text-white px-6 py-3 rounded-lg font-medium">
                        <i class="fas fa-plus mr-2"></i>Yangi Kampaniya
                    </button>
                </div>
                
                <!-- Campaigns Grid -->
                <div id="adminCampaignsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Campaigns will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Advertisements Management -->
        <div id="adminAdvertisements" class="admin-section hidden p-8">
            <div class="max-w-7xl mx-auto">
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h1 class="text-3xl font-bold text-white mb-2">Reklamalar</h1>
                        <p class="text-gray-400">Websaytdagi reklamalarni boshqarish</p>
                    </div>
                    <button id="addAdvertisementBtn" class="btn-admin text-white px-6 py-3 rounded-lg font-medium">
                        <i class="fas fa-plus mr-2"></i>Yangi Reklama
                    </button>
                </div>
                
                <!-- Advertisements Grid -->
                <div id="adminAdvertisementsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Advertisements will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Settings -->
        <div id="adminSettings" class="admin-section hidden p-8">
            <div class="max-w-4xl mx-auto">
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-white mb-2">Sozlamalar</h1>
                    <p class="text-gray-400">Websayt sozlamalarini boshqarish</p>
                </div>
                
                <div class="space-y-6">
                    <!-- General Settings -->
                    <div class="admin-card p-6">
                        <h3 class="text-xl font-bold text-white mb-4">Umumiy Sozlamalar</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-gray-300 mb-2">Websayt nomi</label>
                                <input type="text" class="w-full bg-gray-800 text-white px-4 py-2 rounded-lg border border-gray-700 focus:border-blue-500" value="E-Ehson Global">
                            </div>
                            <div>
                                <label class="block text-gray-300 mb-2">Websayt tavsifi</label>
                                <textarea class="w-full bg-gray-800 text-white px-4 py-2 rounded-lg border border-gray-700 focus:border-blue-500 h-24">To'liq Global Xayriya Platformasi</textarea>
                            </div>
                            <div>
                                <label class="block text-gray-300 mb-2">Aloqa telefoni</label>
                                <input type="tel" class="w-full bg-gray-800 text-white px-4 py-2 rounded-lg border border-gray-700 focus:border-blue-500" value="+998958883851">
                            </div>
                            <div>
                                <label class="block text-gray-300 mb-2">Aloqa email</label>
                                <input type="email" class="w-full bg-gray-800 text-white px-4 py-2 rounded-lg border border-gray-700 focus:border-blue-500" value="jasurbekjolanboyev349@gmail.com">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Payment Settings -->
                    <div class="admin-card p-6">
                        <h3 class="text-xl font-bold text-white mb-4">To'lov Sozlamalari</h3>
                        <div class="space-y-4">
                            <div class="flex items-center space-x-3">
                                <input type="checkbox" id="enablePayments" class="w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded" checked>
                                <label for="enablePayments" class="text-gray-300">To'lovlarni yoqish</label>
                            </div>
                            <div>
                                <label class="block text-gray-300 mb-2">Minimal xayriya miqdori (so'm)</label>
                                <input type="number" class="w-full bg-gray-800 text-white px-4 py-2 rounded-lg border border-gray-700 focus:border-blue-500" value="10000">
                            </div>
                            <div>
                                <label class="block text-gray-300 mb-2">Maksimal xayriya miqdori (so'm)</label>
                                <input type="number" class="w-full bg-gray-800 text-white px-4 py-2 rounded-lg border border-gray-700 focus:border-blue-500" value="10000000">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-8">
                    <button class="btn-admin text-white px-8 py-3 rounded-lg font-medium">
                        <i class="fas fa-save mr-2"></i>Sozlamalarni Saqlash
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content glass-morphism rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <div class="bg-gradient-to-r from-blue-500 to-indigo-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-sign-in-alt text-white text-2xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-white">Tizimga Kirish</h3>
                <p class="text-gray-300 mt-2">Telefon raqamingizni kiriting</p>
            </div>
            
            <div id="loginStep1" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Telefon raqam</label>
                    <input type="tel" id="loginPhone" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="+998 90 123 45 67">
                </div>
                
                <button id="sendOtpBtn" class="w-full btn-primary text-white py-3 rounded-xl font-medium">
                    <span class="btn-text">SMS kod yuborish</span>
                    <div class="loading-spinner hidden ml-2"></div>
                </button>
            </div>
            
            <div id="loginStep2" class="hidden space-y-4">
                <div class="text-center mb-4">
                    <p class="text-gray-300">SMS kod yuborildi:</p>
                    <p class="font-bold text-lg text-white" id="sentPhoneNumber"></p>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Tasdiqlash kodi</label>
                    <input type="text" id="otpCode" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-2xl font-bold transition-all text-white" placeholder="1234" maxlength="4">
                </div>
                
                <button id="verifyOtpBtn" class="w-full btn-primary text-white py-3 rounded-xl font-medium">
                    Tasdiqlash
                </button>
                
                <button id="resendOtp" class="w-full text-blue-300 hover:text-blue-200 py-2">
                    Kodni qayta yuborish
                </button>
            </div>
            
            <div class="text-center mt-6">
                <button id="closeLoginModal" class="text-gray-400 hover:text-gray-300">Bekor qilish</button>
            </div>
        </div>
    </div>

    <!-- Registration Modal (Signup from second) -->
    <div id="registrationModal" class="modal">
        <div class="modal-content glass-morphism rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <div class="bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-user-plus text-green-600 text-2xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-white">Ro'yxatdan O'tish</h3>
                <p class="text-gray-300 mt-2">Yangi hisob yarating</p>
            </div>
            
            <div class="space-y-4">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Ism</label>
                        <input type="text" id="regFirstName" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="Ismingiz">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Familiya</label>
                        <input type="text" id="regLastName" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="Familiyangiz">
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Telefon raqam</label>
                    <input type="tel" id="regPhone" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="+998 90 123 45 67">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Email (ixtiyoriy)</label>
                    <input type="email" id="regEmail" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="email@example.com">
                </div>
                
                <div class="flex items-center">
                    <input type="checkbox" id="agreeTerms" class="w-4 h-4 text-green-600 bg-white bg-opacity-10 border-white border-opacity-20 rounded focus:ring-green-500">
                    <label for="agreeTerms" class="ml-2 text-sm text-gray-300">
                        Foydalanish shartlariga roziman
                    </label>
                </div>
                
                <button id="regSubmit" class="w-full btn-primary text-white py-3 rounded-xl font-medium">
                    Hisob yaratish
                </button>
            </div>
            
            <div class="text-center mt-6">
                <p class="text-gray-300">Hisobingiz bormi? 
                    <button id="switchToLogin" class="text-blue-300 hover:text-blue-200 font-medium">Kirish</button>
                </p>
            </div>
        </div>
    </div>

    <!-- Charity Application Modal -->
    <div id="charityApplicationModal" class="modal">
        <div class="modal-content glass-morphism rounded-2xl shadow-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="text-center mb-6">
                <div class="bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-file-alt text-orange-600 text-2xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-white">Xayriya Uchun Ariza</h3>
                <p class="text-gray-300 mt-2">Yordam olish uchun ariza yuboring</p>
            </div>
            
            <form id="charityApplicationForm" class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Ariza nomi *</label>
                    <input type="text" id="applicationTitle" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="Masalan: Onam uchun operatsiya" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Kategoriya *</label>
                    <select id="applicationCategory" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-white" required>
                        <option value="">Kategoriyani tanlang</option>
                        <option value="health">Sog'liqni saqlash</option>
                        <option value="education">Ta'lim</option>
                        <option value="children">Bolalar</option>
                        <option value="emergency">Favqulodda vaziyat</option>
                        <option value="family">Oilaviy muammolar</option>
                        <option value="disability">Nogironlik</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Kerakli miqdor (so'm) *</label>
                    <input type="number" id="applicationAmount" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="5000000" min="10000" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Batafsil tavsif *</label>
                    <textarea id="applicationDescription" rows="5" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-white placeholder-gray-400 resize-none" placeholder="Vaziyatingizni batafsil yozing..." required></textarea>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Telefon raqam *</label>
                    <input type="tel" id="applicationPhone" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="+998 90 123 45 67" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Email (ixtiyoriy)</label>
                    <input type="email" id="applicationEmail" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="email@example.com">
                </div>
                
                <div class="bg-blue-50 bg-opacity-10 p-6 rounded-xl">
                    <h4 class="font-bold text-white mb-4">To'lov Qabul Qilish Ma'lumotlari</h4>
                    <p class="text-gray-300 text-sm mb-4">Xayriya mablag'larini qabul qilish uchun karta yoki hisob raqam ma'lumotlarini kiriting</p>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">To'lov turi *</label>
                            <select id="recipientPaymentType" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white" required>
                                <option value="">Turni tanlang</option>
                                <option value="card">Bank kartasi</option>
                                <option value="account">Bank hisobi</option>
                                <option value="payme">Payme</option>
                                <option value="click">Click</option>
                            </select>
                        </div>
                        
                        <div id="recipientCardFields" class="space-y-4 hidden">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Karta turi *</label>
                                <select id="recipientCardType" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white">
                                    <option value="">Karta turini tanlang</option>
                                    <option value="uzcard">UzCard</option>
                                    <option value="humo">Humo</option>
                                    <option value="visa">Visa</option>
                                    <option value="mastercard">MasterCard</option>
                                    <option value="uzum">Uzum Bank</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Karta raqami *</label>
                                <input type="text" id="recipientCardNumber" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="0000 0000 0000 0000" maxlength="19">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Karta egasining ismi *</label>
                                <input type="text" id="recipientCardHolder" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="JOHN DOE">
                            </div>
                        </div>
                        
                        <div id="recipientAccountFields" class="space-y-4 hidden">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Bank nomi *</label>
                                <select id="recipientBankName" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white">
                                    <option value="">Bankni tanlang</option>
                                    <option value="nbu">O'zbekiston Milliy Banki</option>
                                    <option value="uzpromstroybank">Uzpromstroybank</option>
                                    <option value="ipoteka">Ipoteka Bank</option>
                                    <option value="asaka">Asaka Bank</option>
                                    <option value="tbc">TBC Bank</option>
                                    <option value="kapitalbank">Kapital Bank</option>
                                    <option value="aloqabank">Aloqa Bank</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Hisob raqami *</label>
                                <input type="text" id="recipientAccountNumber" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="20208000000000000000">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Hisob egasining ismi *</label>
                                <input type="text" id="recipientAccountHolder" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="John Doe">
                            </div>
                        </div>
                        
                        <div id="recipientPaymeFields" class="space-y-4 hidden">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Payme telefon raqami *</label>
                                <input type="tel" id="recipientPaymePhone" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="+998 90 123 45 67">
                            </div>
                        </div>
                        
                        <div id="recipientClickFields" class="space-y-4 hidden">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Click telefon raqami *</label>
                                <input type="tel" id="recipientClickPhone" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="+998 90 123 45 67">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flex items-start space-x-3">
                    <input type="checkbox" id="agreeApplicationTerms" class="w-4 h-4 text-orange-600 bg-white bg-opacity-10 border-white border-opacity-20 rounded focus:ring-orange-500 mt-1" required>
                    <label for="agreeApplicationTerms" class="text-sm text-gray-300">
                        Men taqdim etgan ma'lumotlar to'g'ri ekanligini tasdiqlayaman va moderatsiya qoidalariga roziman
                    </label>
                </div>
                
                <div class="flex space-x-4">
                    <button type="submit" id="submitApplicationBtn" class="flex-1 btn-primary text-white py-3 rounded-xl font-medium">
                        <i class="fas fa-paper-plane mr-2"></i>Ariza yuborish
                    </button>
                    <button type="button" id="closeApplicationModal" class="px-6 py-3 border border-white border-opacity-20 rounded-xl text-gray-300 hover:bg-white hover:bg-opacity-20 transition-all">
                        Bekor qilish
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Donation Modal with steps from second code -->
    <div id="donationModal" class="modal">
        <div class="modal-content glass-morphism rounded-2xl shadow-2xl p-8 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto">
            <!-- Step 1: Amount Selection -->
            <div id="donationStep1" class="payment-step active">
                <div class="text-center mb-6">
                    <div class="bg-green-100 bg-opacity-20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-heart text-green-600 text-2xl"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-white" id="donationCampaignTitle">Xayriya qilish</h3>
                    <p class="text-gray-300 mt-2">Yaxshilik qiling, dunyoni o'zgartiring</p>
                </div>
                
                <div class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-3">Xayriya miqdori</label>
                        <div class="grid grid-cols-3 gap-3 mb-4">
                            <button type="button" class="donation-amount bg-white bg-opacity-10 hover:bg-white hover:bg-opacity-20 text-white py-3 rounded-lg font-medium transition-all" data-amount="50000">50,000</button>
                            <button type="button" class="donation-amount bg-white bg-opacity-10 hover:bg-white hover:bg-opacity-20 text-white py-3 rounded-lg font-medium transition-all" data-amount="100000">100,000</button>
                            <button type="button" class="donation-amount bg-white bg-opacity-10 hover:bg-white hover:bg-opacity-20 text-white py-3 rounded-lg font-medium transition-all" data-amount="250000">250,000</button>
                            <button type="button" class="donation-amount bg-white bg-opacity-10 hover:bg-white hover:bg-opacity-20 text-white py-3 rounded-lg font-medium transition-all" data-amount="500000">500,000</button>
                            <button type="button" class="donation-amount bg-white bg-opacity-10 hover:bg-white hover:bg-opacity-20 text-white py-3 rounded-lg font-medium transition-all" data-amount="1000000">1,000,000</button>
                            <button type="button" class="donation-amount bg-white bg-opacity-10 hover:bg-white hover:bg-opacity-20 text-white py-3 rounded-lg font-medium transition-all" data-amount="custom">Boshqa</button>
                        </div>
                        <input type="number" id="customDonationAmount" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="Miqdorni kiriting" min="10000">
                    </div>
                    
                    <div class="flex space-x-4">
                        <button id="nextToDonationStep2" class="flex-1 btn-primary text-white py-3 rounded-xl font-medium">
                            <i class="fas fa-arrow-right mr-2"></i>Davom etish
                        </button>
                        <button id="closeDonationModal" class="px-6 py-3 border border-white border-opacity-20 rounded-xl text-gray-300 hover:bg-white hover:bg-opacity-20 transition-all">
                            Bekor qilish
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 2: Payment Method -->
            <div id="donationStep2" class="payment-step">
                <div class="text-center mb-6">
                    <div class="bg-blue-100 bg-opacity-20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-credit-card text-blue-600 text-2xl"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-white">To'lov usuli</h3>
                    <p class="text-gray-300 mt-2">Miqdor: <span id="selectedAmountDisplay" class="font-bold text-green-400">0 so'm</span></p>
                </div>
                
                <div class="space-y-4">
                    <div class="payment-method-card border border-white border-opacity-20 rounded-xl p-4 cursor-pointer hover:border-blue-400" data-method="card">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-blue-100 bg-opacity-20 rounded-full flex items-center justify-center">
                                <i class="fas fa-credit-card text-blue-600"></i>
                            </div>
                            <div>
                                <p class="font-medium text-white">Bank kartasi</p>
                                <p class="text-sm text-gray-300">Visa, MasterCard, UzCard, Humo, Uzum</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="payment-method-card border border-white border-opacity-20 rounded-xl p-4 cursor-pointer hover:border-blue-400" data-method="payme">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-purple-100 bg-opacity-20 rounded-full flex items-center justify-center">
                                <i class="fas fa-mobile-alt text-purple-600"></i>
                            </div>
                            <div>
                                <p class="font-medium text-white">Payme</p>
                                <p class="text-sm text-gray-300">Mobil to'lov tizimi</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="payment-method-card border border-white border-opacity-20 rounded-xl p-4 cursor-pointer hover:border-blue-400" data-method="click">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-green-100 bg-opacity-20 rounded-full flex items-center justify-center">
                                <i class="fas fa-mobile-alt text-green-600"></i>
                            </div>
                            <div>
                                <p class="font-medium text-white">Click</p>
                                <p class="text-sm text-gray-300">Mobil to'lov tizimi</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flex space-x-4 mt-6">
                    <button id="backToDonationStep1" class="px-6 py-3 border border-white border-opacity-20 rounded-xl text-gray-300 hover:bg-white hover:bg-opacity-20 transition-all">
                        <i class="fas fa-arrow-left mr-2"></i>Orqaga
                    </button>
                    <button id="nextToDonationStep3" class="flex-1 btn-primary text-white py-3 rounded-xl font-medium">
                        <i class="fas fa-arrow-right mr-2"></i>Davom etish
                    </button>
                </div>
            </div>

            <!-- Step 3: Payment Details -->
            <div id="donationStep3" class="payment-step">
                <div class="text-center mb-6">
                    <div class="bg-purple-100 bg-opacity-20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-lock text-purple-600 text-2xl"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-white">To'lov ma'lumotlari</h3>
                    <p class="text-gray-300 mt-2">Miqdor: <span id="finalAmountDisplay" class="font-bold text-green-400">0 so'm</span></p>
                </div>

                <!-- Recipient Card Info -->
                <div id="recipientCardInfo" class="bg-blue-50 bg-opacity-20 p-4 rounded-xl mb-6">
                    <h4 class="font-bold text-white mb-2">Qabul qiluvchi karta ma'lumotlari:</h4>
                    <div id="recipientCardDetails" class="space-y-2 text-sm text-gray-300">
                        <!-- Will be populated dynamically -->
                    </div>
                </div>

                <!-- Bank Card Payment Form -->
                <div id="cardPaymentForm" class="space-y-4 hidden">
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Karta turi</label>
                        <select id="cardType" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white">
                            <option value="">Karta turini tanlang</option>
                            <option value="visa">Visa</option>
                            <option value="mastercard">MasterCard</option>
                            <option value="uzcard">UzCard</option>
                            <option value="humo">Humo</option>
                            <option value="uzum">Uzum Bank</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Karta raqami</label>
                        <input type="text" id="cardNumber" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="0000 0000 0000 0000" maxlength="19">
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Amal qilish muddati</label>
                            <input type="text" id="cardExpiry" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="MM/YY" maxlength="5">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">CVV</label>
                            <input type="text" id="cardCvv" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="123" maxlength="3">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Karta egasining ismi</label>
                        <input type="text" id="cardHolder" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="JOHN DOE">
                    </div>
                </div>

                <!-- Payme Payment Form -->
                <div id="paymePaymentForm" class="space-y-4 hidden">
                    <div class="bg-purple-50 bg-opacity-20 p-4 rounded-xl">
                        <div class="flex items-center space-x-3 mb-4">
                            <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center">
                                <i class="fas fa-mobile-alt text-white text-xl"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-white">Payme orqali to'lov</h4>
                                <p class="text-sm text-gray-300">Telefon raqamingizni kiriting</p>
                            </div>
                        </div>
                        <input type="tel" id="paymePhone" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="+998 90 123 45 67">
                    </div>
                </div>

                <!-- Click Payment Form -->
                <div id="clickPaymentForm" class="space-y-4 hidden">
                    <div class="bg-green-50 bg-opacity-20 p-4 rounded-xl">
                        <div class="flex items-center space-x-3 mb-4">
                            <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center">
                                <i class="fas fa-mobile-alt text-white text-xl"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-white">Click orqali to'lov</h4>
                                <p class="text-sm text-gray-300">Telefon raqamingizni kiriting</p>
                            </div>
                        </div>
                        <input type="tel" id="clickPhone" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="+998 90 123 45 67">
                    </div>
                </div>

                <div class="flex items-center space-x-3 mb-6">
                    <input type="checkbox" id="agreePayment" class="w-4 h-4 text-blue-600 bg-white bg-opacity-10 border-white border-opacity-20 rounded focus:ring-blue-500">
                    <label for="agreePayment" class="text-sm text-gray-300">
                        To'lov shartlariga roziman va ma'lumotlarimning xavfsizligini tasdiqlayaman
                    </label>
                </div>
                
                <div class="flex space-x-4">
                    <button id="backToDonationStep2" class="px-6 py-3 border border-white border-opacity-20 rounded-xl text-gray-300 hover:bg-white hover:bg-opacity-20 transition-all">
                        <i class="fas fa-arrow-left mr-2"></i>Orqaga
                    </button>
                    <button id="proceedPaymentBtn" class="flex-1 btn-primary text-white py-3 rounded-xl font-medium">
                        <i class="fas fa-lock mr-2"></i>To'lovni amalga oshirish
                    </button>
                </div>
            </div>

            <!-- Step 4: Payment Processing -->
            <div id="donationStep4" class="payment-step">
                <div class="text-center">
                    <div class="bg-yellow-100 bg-opacity-20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <div class="loading-spinner"></div>
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-4">To'lov amalga oshirilmoqda...</h3>
                    <p class="text-gray-300 mb-6">Iltimos, kuting. To'lovingiz qayta ishlanmoqda.</p>
                    
                    <div class="bg-blue-50 bg-opacity-20 p-4 rounded-xl">
                        <p class="text-sm text-blue-300">
                            <i class="fas fa-info-circle mr-2"></i>
                            Sahifani yopmang va qayta yuklamang
                        </p>
                    </div>
                </div>
            </div>

            <!-- Step 5: Payment Success -->
            <div id="donationStep5" class="payment-step">
                <div class="text-center">
                    <div class="bg-green-100 bg-opacity-20 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i class="fas fa-check text-green-600 text-3xl"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-4">To'lov muvaffaqiyatli!</h3>
                    <p class="text-gray-300 mb-6">Sizning xayriyangiz uchun rahmat!</p>
                    
                    <div class="bg-gray-50 bg-opacity-20 p-6 rounded-xl mb-6">
                        <div class="space-y-3">
                            <div class="flex justify-between">
                                <span class="text-gray-300">Miqdor:</span>
                                <span class="font-bold text-green-400" id="successAmount">0 so'm</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-300">To'lov usuli:</span>
                                <span class="font-medium" id="successMethod">-</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-300">Tranzaksiya ID:</span>
                                <span class="font-mono text-sm" id="transactionId">-</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-300">Sana:</span>
                                <span class="text-sm" id="successDate">-</span>
                            </div>
                        </div>
                    </div>
                    
                    <button id="closeDonationSuccess" class="w-full btn-primary text-white py-3 rounded-xl font-medium">
                        <i class="fas fa-home mr-2"></i>Bosh sahifaga qaytish
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Advertisement Modal -->
    <div id="addAdvertisementModal" class="modal">
        <div class="modal-content glass-morphism rounded-2xl shadow-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="text-center mb-6">
                <div class="bg-gradient-to-r from-orange-500 to-red-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-ad text-white text-2xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-white">Yangi Reklama Qo'shish</h3>
                <p class="text-gray-300 mt-2">Reklama ma'lumotlarini kiriting</p>
            </div>
            
            <div class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Reklama nomi</label>
                    <input type="text" id="adTitle" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="Reklama nomi">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Tavsif</label>
                    <textarea id="adDescription" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-white placeholder-gray-400 h-24" placeholder="Reklama tavsifi"></textarea>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Reklama turi</label>
                    <select id="adType" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-white">
                        <option value="image">Rasm</option>
                        <option value="video">Video</option>
                        <option value="text">Matn</option>
                        <option value="banner">Banner</option>
                    </select>
                </div>
                
                <div id="adImageSection">
                    <label class="block text-sm font-medium text-gray-300 mb-2">Rasm yuklash</label>
                    <div class="file-upload-area" id="imageUploadArea">
                        <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-300 mb-2">Rasm faylini bu yerga tashlang yoki tanlang</p>
                        <input type="file" id="adImageFile" class="hidden" accept="image/*">
                        <button type="button" onclick="document.getElementById('adImageFile').click()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">
                            Fayl tanlash
                        </button>
                    </div>
                </div>
                
                <div id="adVideoSection" class="hidden">
                    <label class="block text-sm font-medium text-gray-300 mb-2">Video yuklash</label>
                    <div class="file-upload-area" id="videoUploadArea">
                        <i class="fas fa-video text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-300 mb-2">Video faylini bu yerga tashlang yoki tanlang</p>
                        <input type="file" id="adVideoFile" class="hidden" accept="video/*">
                        <button type="button" onclick="document.getElementById('adVideoFile').click()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">
                            Video tanlash
                        </button>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Havola URL</label>
                    <input type="url" id="adLinkUrl" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="https://example.com">
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Boshlanish sanasi</label>
                        <input type="datetime-local" id="adStartDate" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-white">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Tugash sanasi</label>
                        <input type="datetime-local" id="adEndDate" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-white">
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Pozitsiya</label>
                    <select id="adPosition" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-white">
                        <option value="top">Yuqorida</option>
                        <option value="middle">O'rtada</option>
                        <option value="bottom">Pastda</option>
                        <option value="sidebar">Yon panel</option>
                    </select>
                </div>
                
                <div class="flex items-center space-x-3">
                    <input type="checkbox" id="adActive" class="w-4 h-4 text-orange-600 bg-gray-800 border-gray-600 rounded" checked>
                    <label for="adActive" class="text-gray-300">Faol</label>
                </div>
            </div>
            
            <div class="flex space-x-4 mt-8">
                <button id="closeAddAdvertisementModal" class="flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 rounded-xl font-medium transition-all">
                    Bekor qilish
                </button>
                <button id="saveAdvertisement" class="flex-1 btn-admin text-white py-3 rounded-xl font-medium">
                    <i class="fas fa-save mr-2"></i>Saqlash
                </button>
            </div>
        </div>
    </div>

    <!-- Profile Modal from second code -->
    <div id="profileModal" class="modal">
        <div class="modal-content glass-morphism rounded-2xl shadow-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="text-center mb-6">
                <div class="bg-blue-100 bg-opacity-20 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-user text-blue-600 text-3xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-white">Mening Profilim</h3>
                <p class="text-gray-300 mt-2">Shaxsiy ma'lumotlar va faoliyat</p>
            </div>
            
            <!-- Profile Tabs -->
            <div class="flex border-b border-white border-opacity-20 mb-6">
                <button class="profile-tab active px-6 py-3 text-blue-400 border-b-2 border-blue-400 font-medium" data-tab="info">
                    <i class="fas fa-user mr-2"></i>Ma'lumotlar
                </button>
                <button class="profile-tab px-6 py-3 text-gray-300 hover:text-blue-400 font-medium" data-tab="donations">
                    <i class="fas fa-heart mr-2"></i>Xayriyalarim
                </button>
                <button class="profile-tab px-6 py-3 text-gray-300 hover:text-blue-400 font-medium" data-tab="applications">
                    <i class="fas fa-file-alt mr-2"></i>Arizalarim
                </button>
            </div>
            
            <!-- Profile Info Tab -->
            <div id="profileInfo" class="profile-tab-content">
                <form id="profileForm" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Ism</label>
                            <input type="text" id="profileFirstName" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Familiya</label>
                            <input type="text" id="profileLastName" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Telefon raqam</label>
                        <input type="tel" id="profilePhone" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl bg-gray-800 text-white" readonly>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Email</label>
                        <input type="email" id="profileEmail" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-white">
                    </div>
                    
                    <div class="bg-gray-50 bg-opacity-20 p-4 rounded-xl">
                        <h5 class="font-medium text-white mb-2">Statistika</h5>
                        <div class="grid grid-cols-2 gap-4 text-center">
                            <div>
                                <p class="text-2xl font-bold text-green-400" id="userTotalDonations">0</p>
                                <p class="text-sm text-gray-300">Xayriyalar</p>
                            </div>
                            <div>
                                <p class="text-2xl font-bold text-blue-400" id="userTotalAmount">0 so'm</p>
                                <p class="text-sm text-gray-300">Jami miqdor</p>
                            </div>
                        </div>
                    </div>
                    
                    <button type="submit" class="w-full btn-primary text-white py-3 rounded-xl font-medium">
                        <i class="fas fa-save mr-2"></i>Ma'lumotlarni Saqlash
                    </button>
                </form>
            </div>
            
            <!-- Profile Donations Tab -->
            <div id="profileDonations" class="profile-tab-content hidden">
                <h4 class="text-lg font-bold text-white mb-4">Mening Xayriyalarim</h4>
                <div id="userDonationsList" class="space-y-4">
                    <!-- User donations will be loaded here -->
                </div>
            </div>
            
            <!-- Profile Applications Tab -->
            <div id="profileApplications" class="profile-tab-content hidden">
                <h4 class="text-lg font-bold text-white mb-4">Mening Arizalarim</h4>
                <div id="userApplicationsList" class="space-y-4">
                    <!-- User applications will be loaded here -->
                </div>
            </div>
            
            <div class="text-center mt-8">
                <button id="closeProfileModal" class="px-6 py-3 border border-white border-opacity-20 rounded-xl text-gray-300 hover:bg-white hover:bg-opacity-20 transition-all">
                    Yopish
                </button>
            </div>
        </div>
    </div>

    <!-- Application Detail Modal from second code -->
    <div id="applicationDetailModal" class="modal">
        <div class="modal-content glass-morphism rounded-2xl shadow-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="text-center mb-6">
                <div class="bg-orange-100 bg-opacity-20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-file-alt text-orange-600 text-2xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-white" id="applicationDetailTitle">Ariza Batafsil</h3>
                <p class="text-gray-300 mt-2">To'liq ma'lumotlar</p>
            </div>
            
            <div id="applicationDetailContent" class="space-y-6">
                <!-- Content will be loaded dynamically -->
            </div>
            
            <div class="text-center mt-8">
                <button id="closeApplicationDetail" class="px-6 py-3 border border-white border-opacity-20 rounded-xl text-gray-300 hover:bg-white hover:bg-opacity-20 transition-all">
                    Yopish
                </button>
            </div>
        </div>
    </div>

    <!-- Add Admin Modal from second code -->
    <div id="addAdminModal" class="modal">
        <div class="modal-content glass-morphism rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <div class="bg-purple-100 bg-opacity-20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-user-plus text-purple-600 text-2xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-white">Admin/Moderator Qo'shish</h3>
                <p class="text-gray-300 mt-2">Yangi admin yoki moderator qo'shing</p>
            </div>
            
            <form id="addAdminForm" class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Ism Familiya *</label>
                    <input type="text" id="newAdminName" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="To'liq ism" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Telefon raqam *</label>
                    <input type="tel" id="newAdminPhone" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="+998 90 123 45 67" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Email *</label>
                    <input type="email" id="newAdminEmail" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all text-white placeholder-gray-400" placeholder="email@example.com" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Rol *</label>
                    <select id="newAdminRole" class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all text-white" required>
                        <option value="">Rolni tanlang</option>
                        <option value="admin">Admin</option>
                        <option value="moderator">Moderator</option>
                    </select>
                </div>
                
                <div class="flex space-x-4">
                    <button type="submit" class="flex-1 btn-primary text-white py-3 rounded-xl font-medium">
                        <i class="fas fa-user-plus mr-2"></i>Qo'shish
                    </button>
                    <button type="button" id="closeAddAdminModal" class="px-6 py-3 border border-white border-opacity-20 rounded-xl text-gray-300 hover:bg-white hover:bg-opacity-20 transition-all">
                        Bekor qilish
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Admin Panel Modal from second code -->
    <div id="adminPanelModal" class="modal">
        <div class="modal-content glass-morphism-dark rounded-2xl shadow-2xl p-8 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="text-center mb-6">
                <div class="bg-purple-100 bg-opacity-20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-cog text-purple-600 text-2xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-white">Admin Panel</h3>
                <p class="text-gray-300 mt-2">Platform boshqaruvi</p>
            </div>
            
            <!-- Admin Tabs -->
            <div class="flex flex-wrap border-b border-white border-opacity-20 mb-6">
                <button class="admin-tab active px-6 py-3 text-purple-400 border-b-2 border-purple-400 font-medium" data-tab="campaigns">
                    <i class="fas fa-bullhorn mr-2"></i>Kampaniyalar
                </button>
                <button class="admin-tab px-6 py-3 text-gray-300 hover:text-purple-400 font-medium" data-tab="applications">
                    <i class="fas fa-file-alt mr-2"></i>Arizalar
                </button>
                <button class="admin-tab px-6 py-3 text-gray-300 hover:text-purple-400 font-medium" data-tab="users">
                    <i class="fas fa-users mr-2"></i>Foydalanuvchilar
                </button>
                <button class="admin-tab px-6 py-3 text-gray-300 hover:text-purple-400 font-medium" data-tab="payments">
                    <i class="fas fa-credit-card mr-2"></i>To'lovlar
                </button>
                <button class="admin-tab px-6 py-3 text-gray-300 hover:text-purple-400 font-medium" data-tab="admins">
                    <i class="fas fa-user-shield mr-2"></i>Adminlar
                </button>
                <button class="admin-tab px-6 py-3 text-gray-300 hover:text-purple-400 font-medium" data-tab="settings">
                    <i class="fas fa-cogs mr-2"></i>Sozlamalar
                </button>
            </div>
            
            <!-- Campaigns Tab -->
            <div id="adminCampaigns" class="admin-tab-content">
                <div class="flex justify-between items-center mb-6">
                    <h4 class="text-xl font-bold text-white">Kampaniyalar Boshqaruvi</h4>
                    <button id="addCampaignBtn" class="btn-primary text-white px-4 py-2 rounded-lg">
                        <i class="fas fa-plus mr-2"></i>Yangi Kampaniya
                    </button>
                </div>
                <div id="adminCampaignsList" class="space-y-4">
                    <!-- Campaigns will be loaded here -->
                </div>
            </div>
            
            <!-- Applications Tab -->
            <div id="adminApplications" class="admin-tab-content hidden">
                <div class="flex justify-between items-center mb-6">
                    <h4 class="text-xl font-bold text-white">Arizalar Boshqaruvi</h4>
                    <div class="flex space-x-2">
                        <select id="applicationStatusFilter" class="px-3 py-2 border border-white border-opacity-20 rounded-lg text-white bg-gray-800">
                            <option value="all">Barchasi</option>
                            <option value="pending">Kutilmoqda</option>
                            <option value="approved">Tasdiqlangan</option>
                            <option value="rejected">Rad etilgan</option>
                        </select>
                    </div>
                </div>
                <div id="adminApplicationsList" class="space-y-4">
                    <!-- Applications will be loaded here -->
                </div>
            </div>
            
            <!-- Users Tab -->
            <div id="adminUsers" class="admin-tab-content hidden">
                <div class="flex justify-between items-center mb-6">
                    <h4 class="text-xl font-bold text-white">Foydalanuvchilar</h4>
                    <div class="flex space-x-2">
                        <input type="text" id="userSearchInput" placeholder="Qidirish..." class="px-3 py-2 border border-white border-opacity-20 rounded-lg text-white bg-gray-800">
                        <button id="searchUsersBtn" class="btn-primary text-white px-4 py-2 rounded-lg">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
                <div id="adminUsersList" class="space-y-4">
                    <!-- Users will be loaded here -->
                </div>
            </div>
            
            <!-- Payments Tab -->
            <div id="adminPayments" class="admin-tab-content hidden">
                <div class="flex justify-between items-center mb-6">
                    <h4 class="text-xl font-bold text-white">To'lovlar Statistikasi</h4>
                    <div class="flex space-x-2">
                        <select id="paymentPeriodFilter" class="px-3 py-2 border border-white border-opacity-20 rounded-lg text-white bg-gray-800">
                            <option value="today">Bugun</option>
                            <option value="week">Bu hafta</option>
                            <option value="month">Bu oy</option>
                            <option value="year">Bu yil</option>
                        </select>
                    </div>
                </div>
                
                <!-- Payment Stats -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-green-50 bg-opacity-20 p-6 rounded-xl">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-green-400 text-sm font-medium">Jami To'lovlar</p>
                                <p class="text-2xl font-bold text-white" id="totalPayments">0 so'm</p>
                            </div>
                            <div class="bg-green-100 bg-opacity-20 p-3 rounded-full">
                                <i class="fas fa-coins text-green-600 text-xl"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-blue-50 bg-opacity-20 p-6 rounded-xl">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-blue-400 text-sm font-medium">To'lovlar Soni</p>
                                <p class="text-2xl font-bold text-white" id="paymentsCount">0</p>
                            </div>
                            <div class="bg-blue-100 bg-opacity-20 p-3 rounded-full">
                                <i class="fas fa-credit-card text-blue-600 text-xl"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-purple-50 bg-opacity-20 p-6 rounded-xl">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-purple-400 text-sm font-medium">Komissiya</p>
                                <p class="text-2xl font-bold text-white" id="totalCommission">0 so'm</p>
                            </div>
                            <div class="bg-purple-100 bg-opacity-20 p-3 rounded-full">
                                <i class="fas fa-percentage text-purple-600 text-xl"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-orange-50 bg-opacity-20 p-6 rounded-xl">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-orange-400 text-sm font-medium">O'rtacha To'lov</p>
                                <p class="text-2xl font-bold text-white" id="averagePayment">0 so'm</p>
                            </div>
                            <div class="bg-orange-100 bg-opacity-20 p-3 rounded-full">
                                <i class="fas fa-chart-line text-orange-600 text-xl"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="adminPaymentsList" class="space-y-4">
                    <!-- Payments will be loaded here -->
                </div>
            </div>
            
            <!-- Admins Tab -->
            <div id="adminAdmins" class="admin-tab-content hidden">
                <div class="flex justify-between items-center mb-6">
                    <h4 class="text-xl font-bold text-white">Adminlar va Moderatorlar</h4>
                    <button id="addAdminBtn" class="btn-primary text-white px-4 py-2 rounded-lg">
                        <i class="fas fa-user-plus mr-2"></i>Admin/Moderator Qo'shish
                    </button>
                </div>
                <div id="adminAdminsList" class="space-y-4">
                    <!-- Admins will be loaded here -->
                </div>
            </div>
            
            <!-- Settings Tab -->
            <div id="adminSettings" class="admin-tab-content hidden">
                <h4 class="text-xl font-bold text-white mb-6">Platform Sozlamalari</h4>
                
                <div class="space-y-6">
                    <div class="bg-gray-50 bg-opacity-20 p-6 rounded-xl">
                        <h5 class="text-lg font-bold text-white mb-4">To'lov Sozlamalari</h5>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Platform Komissiyasi (%)</label>
                                <select id="platformCommission" class="w-full px-4 py-3 border border-white border-opacity-20 rounded-xl text-white bg-gray-800">
                                    <option value="0">0% - Komissiyasiz</option>
                                    <option value="2" selected>2% - Standart</option>
                                    <option value="3">3% - Yuqori</option>
                                    <option value="5">5% - Maksimal</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Minimal Xayriya (so'm)</label>
                                <input type="number" id="minDonationAmount" value="10000" class="w-full px-4 py-3 border border-white border-opacity-20 rounded-xl text-white bg-gray-800">
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 bg-opacity-20 p-6 rounded-xl">
                        <h5 class="text-lg font-bold text-white mb-4">To'lov Usullari</h5>
                        <div class="space-y-3">
                            <label class="flex items-center space-x-3">
                                <input type="checkbox" id="enableCards" checked class="w-4 h-4 text-blue-600">
                                <span class="text-gray-300">Bank kartalari (Visa, MasterCard, UzCard)</span>
                            </label>
                            <label class="flex items-center space-x-3">
                                <input type="checkbox" id="enablePayme" checked class="w-4 h-4 text-blue-600">
                                <span class="text-gray-300">Payme</span>
                            </label>
                            <label class="flex items-center space-x-3">
                                <input type="checkbox" id="enableClick" checked class="w-4 h-4 text-blue-600">
                                <span class="text-gray-300">Click</span>
                            </label>
                        </div>
                    </div>
                    
                    <button id="saveSettingsBtn" class="btn-primary text-white px-6 py-3 rounded-xl">
                        <i class="fas fa-save mr-2"></i>Sozlamalarni Saqlash
                    </button>
                </div>
            </div>
            
            <div class="text-center mt-8">
                <button id="closeAdminPanel" class="px-6 py-3 border border-white border-opacity-20 rounded-xl text-gray-300 hover:bg-white hover:bg-opacity-20 transition-all">
                    Yopish
                </button>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification glass-morphism rounded-xl shadow-2xl p-6 max-w-sm border-l-4">
        <div class="flex items-start space-x-4">
            <div id="notificationIcon" class="w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0">
                <i class="fas fa-check text-white"></i>
            </div>
            <div class="flex-1">
                <p id="notificationTitle" class="font-bold text-white text-lg"></p>
                <p id="notificationMessage" class="text-gray-300 mt-1"></p>
            </div>
            <button id="closeNotification" class="text-gray-400 hover:text-gray-300">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <!-- Complete Backend System JavaScript (merged from both) -->
    <script>
        // Merged Backend Simulation System
        const BACKEND_CONFIG = {
            SIMULATION_MODE: true,
            API_BASE_URL: 'https://api.e-ehson.uz/api',
            
            // Payment Gateways Configuration
            PAYMENT_GATEWAYS: {
                CLICK: {
                    merchant_id: 'your_click_merchant_id',
                    service_id: 'your_click_service_id',
                    secret_key: 'your_click_secret_key',
                    endpoint: 'https://api.click.uz/v2/merchant'
                },
                PAYME: {
                    merchant_id: 'your_payme_merchant_id',
                    endpoint: 'https://checkout.paycom.uz',
                    test_key: 'your_payme_test_key'
                },
                UZCARD: {
                    terminal: 'your_uzcard_terminal',
                    endpoint: 'https://api.uzcard.uz/api'
                }
            },
            
            // SMS Gateway Configuration
            SMS_CONFIG: {
                provider: 'ESKIZ_UZ',
                api_url: 'https://notify.eskiz.uz/api',
                email: 'jasurbekjolanboyev349@gmail.com',
                password: 'your_sms_password',
                token: null
            },
            
            // Email Service Configuration
            EMAIL_CONFIG: {
                service: 'gmail',
                user: 'jasurbekjolanboyev349@gmail.com',
                password: 'your_app_password',
                smtp_host: 'smtp.gmail.com',
                smtp_port: 587
            },
            
            // File Upload Configuration
            UPLOAD_CONFIG: {
                cloudinary: {
                    cloud_name: 'your_cloudinary_name',
                    api_key: 'your_cloudinary_key',
                    api_secret: 'your_cloudinary_secret'
                },
                max_file_size: 10 * 1024 * 1024, // 10MB
                allowed_types: ['image/jpeg', 'image/png', 'image/gif', 'video/mp4']
            }
        };

        // Admin Configuration
        const ADMIN_CONFIG = {
            ADMIN_PHONE: '+998958883851',
            ADMIN_EMAIL: 'jasurbekjolanboyev349@gmail.com',
            ADMIN_NAME: 'Jasurbek Jolanboyev'
        };

        // Global variables from second code
        let currentUser = null;
        let selectedDonationAmount = 0;
        let selectedPaymentMethod = '';
        let currentDonationCampaign = null;
        let isAdmin = false;
        let isModerator = false;
        let adminUsers = [
            {
                phone: '+998958883851',
                name: 'Jasurbek Jo\'lanboyev',
                email: 'jasurbekjolanboyev970@gmail.com',
                role: 'admin'
            }
        ];
        let moderators = [];
        let applications = [];
        let campaigns = [];
        let donations = [];
        let platformSettings = {
            commission: 2,
            minDonation: 10000
        };
        let recipientPaymentInfo = {};

        // Complete Backend Simulation Class (merged)
        class CompleteBackendSystem {
            constructor() {
                this.database = {
                    users: [],
                    campaigns: [],
                    donations: [],
                    applications: [],
                    advertisements: [],
                    settings: {},
                    activity_logs: []
                };
                this.currentUser = null;
                this.websocketConnected = false;
                this.init();
            }

            init() {
                this.loadSampleData();
                this.simulateWebSocket();
                this.startRealTimeUpdates();
                this.initEventListeners();
            }

            // Database Simulation
            loadSampleData() {
                // Sample Users
                this.database.users = [
                    {
                        id: 1,
                        firstName: 'Jasurbek',
                        lastName: 'Jolanboyev',
                        phone: '+998958883851',
                        email: 'jasurbekjolanboyev349@gmail.com',
                        role: 'admin',
                        verified: true,
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: 2,
                        firstName: 'Aziza',
                        lastName: 'Karimova',
                        phone: '+998901234567',
                        email: 'aziza@example.com',
                        role: 'user',
                        verified: true,
                        createdAt: new Date().toISOString()
                    }
                ];

                // Sample Campaigns (merged with second code)
                this.database.campaigns = [
                    {
                        id: 1,
                        title: 'Bolalar bog\'chasi qurilishi',
                        description: 'Mahallada yangi bolalar bog\'chasi qurish uchun xayriya yig\'amiz',
                        target: 500000000,
                        raised: 350000000,
                        donors: 1247,
                        category: 'education',
                        country: 'uzbekistan',
                        status: 'active',
                        createdAt: new Date().toISOString(),
                        recipientPayment: {
                            type: 'card',
                            cardType: 'uzcard',
                            cardNumber: '8600 1234 5678 9012',
                            cardHolder: 'ANVAR KARIMOV'
                        }
                    },
                    {
                        id: 2,
                        title: 'Kasalxona jihozlari',
                        description: 'Viloyat kasalxonasi uchun zamonaviy tibbiy jihozlar',
                        target: 800000000,
                        raised: 620000000,
                        donors: 2156,
                        category: 'health',
                        country: 'uzbekistan',
                        status: 'active',
                        createdAt: new Date().toISOString(),
                        recipientPayment: {
                            type: 'account',
                            bankName: 'O\'zbekiston Milliy Banki',
                            accountNumber: '20208000000000000001',
                            accountHolder: 'Qashqadaryo Maktab Qurilishi Jamg\'armasi'
                        }
                    },
                    {
                        id: 3,
                        title: 'Yetim bolalar uyiga yordam',
                        description: 'Yetim bolalar uyidagi bolalarga kiyim-kechak va o\'quv qurollari',
                        target: 200000000,
                        raised: 180000000,
                        donors: 856,
                        category: 'children',
                        country: 'uzbekistan',
                        status: 'active',
                        createdAt: new Date().toISOString(),
                        recipientPayment: {
                            type: 'click',
                            phone: '+998901234569'
                        }
                    }
                ];

                // Sample Advertisements
                this.database.advertisements = [
                    {
                        id: 1,
                        title: 'Xayriya Fondi Reklamasi',
                        description: 'Bizning xayriya fondimizga qo\'shiling',
                        type: 'banner',
                        imageUrl: 'https://via.placeholder.com/400x200/4F46E5/FFFFFF?text=Xayriya+Fondi',
                        linkUrl: 'https://example.com',
                        position: 'top',
                        active: true,
                        startDate: new Date().toISOString(),
                        endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString()
                    },
                    {
                        id: 2,
                        title: 'Tibbiy Yordam',
                        description: 'Muhtoj oilalarga tibbiy yordam ko\'rsating',
                        type: 'image',
                        imageUrl: 'https://via.placeholder.com/400x300/10B981/FFFFFF?text=Tibbiy+Yordam',
                        linkUrl: 'https://example.com/medical',
                        position: 'middle',
                        active: true,
                        startDate: new Date().toISOString(),
                        endDate: new Date(Date.now() + 15 * 24 * 60 * 60 * 1000).toISOString()
                    }
                ];

                // Sample Applications from second code
                this.database.applications = [
                    {
                        id: '1',
                        title: 'Onaning operatsiyasi uchun yordam',
                        description: 'Onamning jiddiy operatsiyasi kerak, moliyaviy imkoniyat yo\'q. Shifokorlar operatsiyani kechiktirish mumkin emasligini aytishdi.',
                        amount: 25000000,
                        category: 'health',
                        applicantName: 'Dilshod Rahimov',
                        phone: '+998901234567',
                        email: 'dilshod@example.com',
                        status: 'approved',
                        date: '2024-02-05T10:00:00Z',
                        userId: 1,
                        recipientPayment: {
                            type: 'card',
                            cardType: 'uzcard',
                            cardNumber: '8600 1234 5678 9012',
                            cardHolder: 'DILSHOD RAHIMOV'
                        }
                    },
                    {
                        id: '2',
                        title: 'Bolalar bog\'chasi uchun o\'yinchoqlar',
                        description: 'Mahalla bolalar bog\'chasida o\'yinchoqlar yetishmaydi. 50 nafar bolaga yangi o\'yinchoqlar kerak.',
                        amount: 5000000,
                        category: 'children',
                        applicantName: 'Malika Karimova',
                        phone: '+998901234568',
                        email: 'malika@example.com',
                        status: 'pending',
                        date: '2024-02-10T14:30:00Z',
                        userId: 2,
                        recipientPayment: {
                            type: 'payme',
                            phone: '+998901234568'
                        }
                    }
                ];

                // Sample Donations from second code
                this.database.donations = [
                    {
                        id: 1,
                        userId: 1,
                        campaignId: 1,
                        campaignTitle: '7 yoshli Anvar uchun yurak operatsiyasi',
                        userName: 'Test Foydalanuvchi',
                        amount: 100000,
                        method: 'Payme',
                        date: '2024-02-15T09:30:00Z'
                    },
                    {
                        id: 2,
                        userId: 1,
                        campaignId: 2,
                        campaignTitle: 'Qashqadaryo viloyatida maktab qurilishi',
                        userName: 'Test Foydalanuvchi',
                        amount: 250000,
                        method: 'Bank kartasi',
                        date: '2024-02-14T16:45:00Z'
                    }
                ];

                // Sync with global variables
                applications = this.database.applications;
                campaigns = this.database.campaigns;
                donations = this.database.donations;

                this.renderAdvertisements();
                this.renderCampaigns();
                this.loadApplicationsList();
                this.loadCampaignsList();
                this.loadPaymentsList();
                this.loadUsersList();
                this.loadAdminsList();
                this.loadSettings();
            }

            // Authentication System
            async sendOTP(phone) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        const otp = '1234';
                        console.log(`SMS sent to ${phone}: Your OTP is ${otp}`);
                        
                        resolve({
                            success: true,
                            message: 'SMS kod yuborildi',
                            otp: otp
                        });
                    }, 2000);
                });
            }

            async verifyOTP(phone, otp) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        if (otp === '1234') {
                            let user = this.database.users.find(u => u.phone === phone);
                            if (!user) {
                                user = {
                                    id: this.database.users.length + 1,
                                    phone: phone,
                                    role: phone === ADMIN_CONFIG.ADMIN_PHONE ? 'admin' : 'user',
                                    verified: true,
                                    createdAt: new Date().toISOString()
                                };
                                this.database.users.push(user);
                            }

                            this.currentUser = user;
                            currentUser = user; // Sync with global
                            localStorage.setItem('currentUser', JSON.stringify(user));
                            isAdmin = user.role === 'admin';
                            isModerator = user.role === 'moderator' || user.role === 'admin';

                            resolve({
                                success: true,
                                message: 'Muvaffaqiyatli kirdingiz',
                                user: user,
                                token: 'demo_jwt_token_' + Date.now()
                            });
                        } else {
                            resolve({
                                success: false,
                                message: 'Noto\'g\'ri kod'
                            });
                        }
                    }, 1500);
                });
            }

            async register(userData) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        const newUser = {
                            id: this.database.users.length + 1,
                            ...userData,
                            role: userData.phone === ADMIN_CONFIG.ADMIN_PHONE ? 'admin' : 'user',
                            verified: true,
                            createdAt: new Date().toISOString()
                        };

                        this.database.users.push(newUser);
                        this.currentUser = newUser;
                        currentUser = newUser; // Sync
                        localStorage.setItem('currentUser', JSON.stringify(newUser));

                        resolve({
                            success: true,
                            message: 'Muvaffaqiyatli ro\'yxatdan o\'tdingiz',
                            user: newUser,
                            token: 'demo_jwt_token_' + Date.now()
                        });
                    }, 2000);
                });
            }

            // Payment System
            async processPayment(paymentData) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        const { method, amount, campaignId, comment } = paymentData;
                        
                        const transactionId = 'TXN_' + Date.now();
                        
                        const donation = {
                            id: this.database.donations.length + 1,
                            campaignId: campaignId,
                            userId: this.currentUser?.id,
                            amount: amount,
                            method: method,
                            comment: comment,
                            transactionId: transactionId,
                            status: 'completed',
                            createdAt: new Date().toISOString()
                        };

                        this.database.donations.push(donation);
                        donations.push(donation); // Sync

                        const campaign = this.database.campaigns.find(c => c.id === campaignId);
                        if (campaign) {
                            campaign.raised += amount;
                            campaign.donors += 1;
                            campaigns = this.database.campaigns; // Sync
                        }

                        this.addActivityLog({
                            type: 'donation',
                            message: `${this.currentUser?.firstName || 'Anonim'} ${this.formatNumber(amount)} so'm xayriya qildi`,
                            campaign: campaign?.title,
                            timestamp: new Date().toISOString()
                        });

                        resolve({
                            success: true,
                            message: 'To\'lov muvaffaqiyatli amalga oshirildi',
                            transactionId: transactionId,
                            donation: donation
                        });
                    }, 3000);
                });
            }

            // File Upload System
            async uploadFile(file, type = 'image') {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        const fileUrl = URL.createObjectURL(file);
                        
                        resolve({
                            success: true,
                            message: 'Fayl muvaffaqiyatli yuklandi',
                            url: fileUrl,
                            filename: file.name,
                            size: file.size,
                            type: file.type
                        });
                    }, 2000);
                });
            }

            // Email System
            async sendEmail(emailData) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        console.log('Email sent:', emailData);
                        resolve({
                            success: true,
                            message: 'Email muvaffaqiyatli yuborildi'
                        });
                    }, 1500);
                });
            }

            // Advertisement Management
            async createAdvertisement(adData) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        const newAd = {
                            id: this.database.advertisements.length + 1,
                            ...adData,
                            createdAt: new Date().toISOString()
                        };

                        this.database.advertisements.push(newAd);
                        this.renderAdvertisements();

                        resolve({
                            success: true,
                            message: 'Reklama muvaffaqiyatli qo\'shildi',
                            advertisement: newAd
                        });
                    }, 1500);
                });
            }

            async updateAdvertisement(id, adData) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        const adIndex = this.database.advertisements.findIndex(ad => ad.id === id);
                        if (adIndex !== -1) {
                            this.database.advertisements[adIndex] = {
                                ...this.database.advertisements[adIndex],
                                ...adData,
                                updatedAt: new Date().toISOString()
                            };
                            this.renderAdvertisements();
                            resolve({
                                success: true,
                                message: 'Reklama muvaffaqiyatli yangilandi'
                            });
                        } else {
                            resolve({
                                success: false,
                                message: 'Reklama topilmadi'
                            });
                        }
                    }, 1000);
                });
            }

            async deleteAdvertisement(id) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        const adIndex = this.database.advertisements.findIndex(ad => ad.id === id);
                        if (adIndex !== -1) {
                            this.database.advertisements.splice(adIndex, 1);
                            this.renderAdvertisements();
                            resolve({
                                success: true,
                                message: 'Reklama muvaffaqiyatli o\'chirildi'
                            });
                        } else {
                            resolve({
                                success: false,
                                message: 'Reklama topilmadi'
                            });
                        }
                    }, 1000);
                });
            }

            // Real-time Updates
            simulateWebSocket() {
                this.websocketConnected = true;
                document.getElementById('connectionStatus').className = 'fixed top-20 right-4 z-50 px-3 py-2 rounded-lg text-sm font-medium bg-green-500 text-white';
                document.getElementById('connectionStatus').innerHTML = '<i class="fas fa-wifi mr-2"></i>Ulangan';
            }

            startRealTimeUpdates() {
                setInterval(() => {
                    this.updateGlobalStats();
                }, 5000);

                setInterval(() => {
                    const count = Math.floor(Math.random() * 100) + 1200;
                    document.getElementById('onlineCount').textContent = this.formatNumber(count);
                }, 10000);

                setInterval(() => {
                    this.addRandomActivity();
                }, 15000);
            }

            updateGlobalStats() {
                const stats = {
                    totalCampaigns: this.database.campaigns.length,
                    totalRaised: this.database.campaigns.reduce((sum, c) => sum + c.raised, 0),
                    totalDonors: this.database.campaigns.reduce((sum, c) => sum + c.donors, 0),
                    totalUsers: this.database.users.length,
                    activeCountries: 47
                };

                const elements = {
                    'heroGlobalCampaigns': stats.totalCampaigns,
                    'heroGlobalRaised': '$' + this.formatNumber(Math.floor(stats.totalRaised / 12500)),
                    'heroGlobalDonors': this.formatNumber(stats.totalDonors),
                    'heroCountries': stats.activeCountries,
                    'tickerTotalRaised': '$' + this.formatNumber(Math.floor(stats.totalRaised / 12500)),
                    'tickerActiveDonors': this.formatNumber(stats.totalDonors),
                    'tickerActiveCampaigns': stats.totalCampaigns,
                    'totalCampaigns': stats.totalCampaigns,
                    'totalRaised': this.formatNumber(stats.totalRaised) + ' so\'m',
                    'totalDonors': stats.totalDonors,
                    'totalHelped': Math.floor(Math.random() * 100)
                };

                Object.entries(elements).forEach(([id, value]) => {
                    const element = document.getElementById(id);
                    if (element) {
                        element.textContent = value;
                    }
                });
            }

            addRandomActivity() {
                const activities = [
                    'Yangi foydalanuvchi ro\'yxatdan o\'tdi',
                    'Katta xayriya qilindi',
                    'Yangi kampaniya yaratildi',
                    'Kampaniya maqsadiga yetdi',
                    'Yangi reklama qo\'shildi'
                ];

                const activity = {
                    type: 'system',
                    message: activities[Math.floor(Math.random() * activities.length)],
                    timestamp: new Date().toISOString()
                };

                this.addActivityLog(activity);
            }

            addActivityLog(activity) {
                this.database.activity_logs.unshift(activity);
                
                if (this.database.activity_logs.length > 50) {
                    this.database.activity_logs = this.database.activity_logs.slice(0, 50);
                }

                this.renderActivityFeed();
            }

            renderActivityFeed() {
                const activityList = document.getElementById('activityList');
                if (!activityList) return;

                activityList.innerHTML = '';

                this.database.activity_logs.slice(0, 20).forEach(activity => {
                    const activityItem = document.createElement('div');
                    activityItem.className = 'p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors';
                    
                    const timeAgo = this.getTimeAgo(new Date(activity.timestamp));
                    
                    activityItem.innerHTML = `
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-heart text-white text-xs"></i>
                            </div>
                            <div class="flex-1 min-w-0">
                                <p class="text-sm font-medium text-gray-800">${activity.message}</p>
                                ${activity.campaign ? `<p class="text-xs text-gray-500 truncate">${activity.campaign}</p>` : ''}
                                <p class="text-xs text-gray-400">${timeAgo}</p>
                            </div>
                        </div>
                    `;
                    
                    activityList.appendChild(activityItem);
                });
            }

            renderAdvertisements() {
                const container = document.getElementById('advertisementContainer');
                if (!container) return;

                container.innerHTML = '';

                const activeAds = this.database.advertisements.filter(ad => 
                    ad.active && this.isAdActive(ad)
                );

                if (activeAds.length === 0) {
                    document.getElementById('advertisementSection').style.display = 'none';
                    return;
                }

                document.getElementById('advertisementSection').style.display = 'block';

                activeAds.forEach(ad => {
                    const adElement = this.createAdvertisementElement(ad);
                    container.appendChild(adElement);
                });
            }

            createAdvertisementElement(ad) {
                const adElement = document.createElement('div');
                adElement.className = 'ad-banner p-6 text-white cursor-pointer elastic-hover';
                adElement.onclick = () => {
                    if (ad.linkUrl) {
                        window.open(ad.linkUrl, '_blank', 'noopener,noreferrer');
                    }
                };

                let content = '';
                
                switch (ad.type) {
                    case 'image':
                        content = `
                            <img src="${ad.imageUrl}" alt="${ad.title}" class="w-full h-48 object-cover rounded-lg mb-4" onerror="this.style.display='none'">
                            <h3 class="text-xl font-bold mb-2">${ad.title}</h3>
                            <p class="text-sm opacity-90">${ad.description}</p>
                        `;
                        break;
                    case 'video':
                        content = `
                            <video class="ad-video mb-4" controls>
                                <source src="${ad.videoUrl}" type="video/mp4">
                                Video yuklanmadi
                            </video>
                            <h3 class="text-xl font-bold mb-2">${ad.title}</h3>
                            <p class="text-sm opacity-90">${ad.description}</p>
                        `;
                        break;
                    case 'text':
                        content = `
                            <div class="text-center">
                                <h3 class="text-2xl font-bold mb-4">${ad.title}</h3>
                                <p class="text-lg">${ad.description}</p>
                            </div>
                        `;
                        break;
                    case 'banner':
                        content = `
                            <div class="flex items-center justify-between">
                                <div class="flex-1">
                                    <h3 class="text-xl font-bold mb-2">${ad.title}</h3>
                                    <p class="text-sm opacity-90">${ad.description}</p>
                                </div>
                                ${ad.imageUrl ? `<img src="${ad.imageUrl}" alt="${ad.title}" class="w-24 h-24 object-cover rounded-lg ml-4" onerror="this.style.display='none'">` : ''}
                            </div>
                        `;
                        break;
                }

                adElement.innerHTML = content;
                return adElement;
            }

            renderCampaigns() {
                const container = document.getElementById('globalCampaignsGrid');
                if (!container) return;

                container.innerHTML = '';

                this.database.campaigns.forEach(campaign => {
                    const campaignElement = this.createCampaignElement(campaign);
                    container.appendChild(campaignElement);
                });
            }

            createCampaignElement(campaign) {
                const percentage = Math.min((campaign.raised / campaign.target) * 100, 100);
                
                const campaignElement = document.createElement('div');
                campaignElement.className = 'campaign-card bg-white rounded-2xl shadow-lg overflow-hidden card-3d';
                campaignElement.setAttribute('data-campaign-id', campaign.id);
                
                campaignElement.innerHTML = `
                    <div class="h-48 bg-gradient-to-br from-blue-500 to-green-500 relative">
                        <div class="absolute inset-0 bg-black bg-opacity-20"></div>
                        <div class="absolute bottom-4 left-4 right-4 text-white">
                            <h3 class="text-xl font-bold mb-2">${campaign.title}</h3>
                            <p class="text-sm opacity-90">${campaign.description}</p>
                        </div>
                    </div>
                    
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <div>
                                <p class="text-2xl font-bold text-gray-800 raised-amount">${this.formatNumber(campaign.raised)}</p>
                                <p class="text-sm text-gray-600">so'm yig'ildi</p>
                            </div>
                            <div class="text-right">
                                <p class="text-lg font-semibold text-gray-700">${this.formatNumber(campaign.target)}</p>
                                <p class="text-sm text-gray-600">so'm maqsad</p>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <div class="flex justify-between text-sm text-gray-600 mb-2">
                                <span>${Math.round(percentage)}% to'ldi</span>
                                <span class="donors-count">${campaign.donors} xayriyachi</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-3 relative overflow-hidden">
                                <div class="progress-bar h-full rounded-full" style="width: ${percentage}%"></div>
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <div class="text-xs font-bold text-white">${Math.round(percentage)}%</div>
                                </div>
                            </div>
                        </div>
                        
                        <button onclick="openPaymentModal(${campaign.id})" class="w-full btn-primary text-white py-3 rounded-xl font-medium">
                            <i class="fas fa-heart mr-2"></i>Xayriya Qilish
                        </button>
                    </div>
                `;
                
                return campaignElement;
            }

            // Admin Functions (merged)
            loadAdminUsers() {
                const tbody = document.getElementById('usersTableBody');
                if (!tbody) return;

                tbody.innerHTML = '';

                this.database.users.forEach(user => {
                    const row = document.createElement('tr');
                    row.className = 'border-b border-gray-700 hover:bg-gray-800';
                    
                    row.innerHTML = `
                        <td class="py-3 px-4">${user.id}</td>
                        <td class="py-3 px-4">${user.firstName || ''} ${user.lastName || ''}</td>
                        <td class="py-3 px-4">${user.phone}</td>
                        <td class="py-3 px-4">${user.email || 'N/A'}</td>
                        <td class="py-3 px-4">
                            <span class="px-2 py-1 rounded-full text-xs ${user.verified ? 'bg-green-500' : 'bg-red-500'} text-white">
                                ${user.verified ? 'Tasdiqlangan' : 'Tasdiqlanmagan'}
                            </span>
                        </td>
                        <td class="py-3 px-4">
                            <button class="text-blue-400 hover:text-blue-300 mr-2">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="text-red-400 hover:text-red-300">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    `;
                    
                    tbody.appendChild(row);
                });
            }

            loadAdminAdvertisements() {
                const container = document.getElementById('adminAdvertisementsGrid');
                if (!container) return;

                container.innerHTML = '';

                this.database.advertisements.forEach(ad => {
                    const adCard = document.createElement('div');
                    adCard.className = 'admin-card p-6';
                    
                    adCard.innerHTML = `
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-lg font-bold text-white">${ad.title}</h3>
                            <span class="px-2 py-1 rounded-full text-xs ${ad.active ? 'bg-green-500' : 'bg-red-500'} text-white">
                                ${ad.active ? 'Faol' : 'Nofaol'}
                            </span>
                        </div>
                        
                        <p class="text-gray-300 mb-4">${ad.description}</p>
                        
                        <div class="flex justify-between items-center text-sm text-gray-400 mb-4">
                            <span>Turi: ${ad.type}</span>
                            <span>Pozitsiya: ${ad.position}</span>
                        </div>
                        
                        ${ad.imageUrl ? `<img src="${ad.imageUrl}" alt="${ad.title}" class="w-full h-32 object-cover rounded-lg mb-4" onerror="this.style.display='none'">` : ''}
                        
                        <div class="flex space-x-2">
                            <button onclick="editAdvertisement(${ad.id})" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg text-sm">
                                <i class="fas fa-edit mr-1"></i>Tahrirlash
                            </button>
                            <button onclick="deleteAdvertisement(${ad.id})" class="flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg text-sm">
                                <i class="fas fa-trash mr-1"></i>O'chirish
                            </button>
                        </div>
                    `;
                    
                    container.appendChild(adCard);
                });
            }

            // Utility Functions
            isAdActive(ad) {
                const now = new Date();
                const startDate = new Date(ad.startDate);
                const endDate = new Date(ad.endDate);
                
                return now >= startDate && now <= endDate;
            }

            formatNumber(num) {
                if (num >= 1000000000) {
                    return (num / 1000000000).toFixed(1) + 'B';
                } else if (num >= 1000000) {
                    return (num / 1000000).toFixed(1) + 'M';
                } else if (num >= 1000) {
                    return (num / 1000).toFixed(1) + 'K';
                } else {
                    return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
                }
            }

            getTimeAgo(date) {
                const now = new Date();
                const diffInSeconds = Math.floor((now - date) / 1000);
                
                if (diffInSeconds < 60) {
                    return `${diffInSeconds} soniya oldin`;
                } else if (diffInSeconds < 3600) {
                    return `${Math.floor(diffInSeconds / 60)} daqiqa oldin`;
                } else if (diffInSeconds < 86400) {
                    return `${Math.floor(diffInSeconds / 3600)} soat oldin`;
                } else {
                    return `${Math.floor(diffInSeconds / 86400)} kun oldin`;
                }
            }

            showNotification(type, title, message) {
                const notification = document.getElementById('notification');
                const titleEl = document.getElementById('notificationTitle');
                const messageEl = document.getElementById('notificationMessage');
                const iconEl = document.getElementById('notificationIcon');
                
                if (notification && titleEl && messageEl && iconEl) {
                    titleEl.textContent = title;
                    messageEl.textContent = message;
                    
                    let iconClass = 'fas fa-info';
                    let bgClass = 'bg-blue-500';
                    
                    switch (type) {
                        case 'success':
                            iconClass = 'fas fa-check';
                            bgClass = 'bg-green-500';
                            break;
                        case 'error':
                            iconClass = 'fas fa-exclamation-triangle';
                            bgClass = 'bg-red-500';
                            break;
                        case 'warning':
                            iconClass = 'fas fa-exclamation';
                            bgClass = 'bg-yellow-500';
                            break;
                    }
                    
                    iconEl.className = `w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${bgClass}`;
                    iconEl.innerHTML = `<i class="${iconClass} text-white"></i>`;
                    
                    notification.classList.add('show');
                    
                    setTimeout(() => {
                        notification.classList.remove('show');
                    }, 5000);
                }
            }

            // Event Listeners (merged)
            initEventListeners() {
                const savedUser = localStorage.getItem('currentUser');
                if (savedUser) {
                    this.currentUser = JSON.parse(savedUser);
                    currentUser = this.currentUser;
                    updateUserInterface();
                }

                // Login and registration events
                document.getElementById('loginBtn').addEventListener('click', () => {
                    document.getElementById('loginModal').classList.add('show');
                });

                document.getElementById('closeLoginModal').addEventListener('click', () => {
                    document.getElementById('loginModal').classList.remove('show');
                });

                document.getElementById('sendOtpBtn').addEventListener('click', async () => {
                    const phone = document.getElementById('loginPhone').value;
                    if (!phone) {
                        this.showNotification('error', 'Xato', 'Telefon raqamni kiriting');
                        return;
                    }

                    const btn = document.getElementById('sendOtpBtn');
                    const btnText = btn.querySelector('.btn-text');
                    const spinner = btn.querySelector('.loading-spinner');
                    
                    btnText.textContent = 'Yuborilmoqda...';
                    spinner.classList.remove('hidden');
                    btn.disabled = true;

                    const result = await this.sendOTP(phone);
                    
                    if (result.success) {
                        document.getElementById('loginStep1').classList.add('hidden');
                        document.getElementById('loginStep2').classList.remove('hidden');
                        document.getElementById('sentPhoneNumber').textContent = phone;
                        this.showNotification('success', 'Muvaffaqiyat', result.message);
                    } else {
                        this.showNotification('error', 'Xato', result.message);
                    }

                    btnText.textContent = 'SMS kod yuborish';
                    spinner.classList.add('hidden');
                    btn.disabled = false;
                });

                document.getElementById('verifyOtpBtn').addEventListener('click', async () => {
                    const phone = document.getElementById('loginPhone').value;
                    const otp = document.getElementById('otpCode').value;
                    
                    if (!otp) {
                        this.showNotification('error', 'Xato', 'Tasdiqlash kodini kiriting');
                        return;
                    }

                    const result = await this.verifyOTP(phone, otp);
                    
                    if (result.success) {
                        document.getElementById('loginModal').classList.remove('show');
                        updateUserInterface();
                        this.showNotification('success', 'Muvaffaqiyat', result.message);
                    } else {
                        this.showNotification('error', 'Xato', result.message);
                    }
                });

                document.getElementById('signupBtn').addEventListener('click', () => {
                    document.getElementById('registrationModal').classList.add('show');
                });

                document.getElementById('closeRegistrationModal').addEventListener('click', () => {
                    document.getElementById('registrationModal').classList.remove('show');
                });

                document.getElementById('switchToLogin').addEventListener('click', () => {
                    document.getElementById('registrationModal').classList.remove('show');
                    document.getElementById('loginModal').classList.add('show');
                });

                document.getElementById('regSubmit').addEventListener('click', async () => {
                    const firstName = document.getElementById('regFirstName').value.trim();
                    const lastName = document.getElementById('regLastName').value.trim();
                    const phone = document.getElementById('regPhone').value.trim();
                    const email = document.getElementById('regEmail').value.trim();
                    const agreeTerms = document.getElementById('agreeTerms').checked;

                    if (!firstName || !lastName || !phone) {
                        this.showNotification('error', 'Xato', 'Barcha majburiy maydonlarni to\'ldiring', 'error');
                        return;
                    }

                    if (!agreeTerms) {
                        this.showNotification('error', 'Xato', 'Foydalanish shartlariga rozilik bering', 'error');
                        return;
                    }

                    const userData = { firstName, lastName, phone, email };
                    const result = await this.register(userData);
                    
                    if (result.success) {
                        document.getElementById('registrationModal').classList.remove('show');
                        updateUserInterface();
                        this.showNotification('success', 'Muvaffaqiyat', result.message);
                    } else {
                        this.showNotification('error', 'Xato', result.message);
                    }
                });

                // Admin panel
                document.getElementById('adminPanelLink').addEventListener('click', (e) => {
                    e.preventDefault();
                    if (this.currentUser && (this.currentUser.role === 'admin' || this.currentUser.phone === ADMIN_CONFIG.ADMIN_PHONE)) {
                        this.showAdminPanel();
                    } else {
                        this.showNotification('error', 'Xato', 'Admin huquqlaringiz yo\'q');
                    }
                });

                document.getElementById('closeAdminPanel').addEventListener('click', () => {
                    this.hideAdminPanel();
                });

                // Logout
                document.getElementById('logoutBtn').addEventListener('click', () => {
                    this.currentUser = null;
                    currentUser = null;
                    localStorage.removeItem('currentUser');
                    isAdmin = false;
                    isModerator = false;
                    updateUserInterface();
                    this.showNotification('info', 'Chiqish', 'Tizimdan muvaffaqiyatli chiqdingiz');
                });

                // Charity application
                document.getElementById('applyCharityLink').addEventListener('click', (e) => {
                    e.preventDefault();
                    if (!this.currentUser) {
                        document.getElementById('loginModal').classList.add('show');
                        return;
                    }
                    document.getElementById('charityApplicationModal').classList.add('show');
                });

                document.getElementById('closeApplicationModal').addEventListener('click', () => {
                    document.getElementById('charityApplicationModal').classList.remove('show');
                });

                document.getElementById('submitApplicationBtn').addEventListener('click', async () => {
                    const form = document.getElementById('charityApplicationForm');
                    if (!form.checkValidity()) {
                        this.showNotification('error', 'Xato', 'Barcha majburiy maydonlarni to\'ldiring');
                        return;
                    }

                    const title = document.getElementById('applicationTitle').value.trim();
                    const category = document.getElementById('applicationCategory').value;
                    const amount = parseInt(document.getElementById('applicationAmount').value);
                    const description = document.getElementById('applicationDescription').value.trim();
                    const phone = document.getElementById('applicationPhone').value.trim();
                    const email = document.getElementById('applicationEmail').value.trim();
                    const paymentType = document.getElementById('recipientPaymentType').value;

                    if (!validateRecipientPaymentInfo(paymentType)) return;

                    const recipientInfo = getRecipientPaymentInfo(paymentType);

                    const newApplication = {
                        id: Date.now().toString(),
                        title,
                        category,
                        amount,
                        description,
                        phone,
                        email,
                        applicantName: `${this.currentUser.firstName} ${this.currentUser.lastName}`,
                        status: 'pending',
                        date: new Date().toISOString(),
                        userId: this.currentUser.id,
                        recipientPayment: recipientInfo
                    };

                    this.database.applications.push(newApplication);
                    applications.push(newApplication);

                    document.getElementById('charityApplicationModal').classList.remove('show');
                    this.showNotification('success', 'Ariza yuborildi!', 'Arizangiz moderatsiyaga yuborildi. 3-7 ish kuni ichida javob beramiz.');
                    form.reset();
                    document.getElementById('recipientCardFields').classList.add('hidden');
                    document.getElementById('recipientAccountFields').classList.add('hidden');
                    document.getElementById('recipientPaymeFields').classList.add('hidden');
                    document.getElementById('recipientClickFields').classList.add('hidden');
                    this.loadApplicationsList();
                });

                // Donation events (from second code)
                document.getElementById('startDonatingBtn').addEventListener('click', () => {
                    document.getElementById('campaigns').scrollIntoView({ behavior: 'smooth' });
                });

                document.querySelectorAll('.donate-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const campaignId = btn.dataset.campaignId;
                        currentDonationCampaign = campaignId;
                        const campaignTitle = btn.closest('.campaign-card').querySelector('h3').textContent;
                        document.getElementById('donationCampaignTitle').textContent = campaignTitle;
                        document.getElementById('donationModal').classList.add('show');
                    });
                });

                document.getElementById('closeDonationModal').addEventListener('click', () => {
                    document.getElementById('donationModal').classList.remove('show');
                    resetDonationModal();
                });

                document.querySelectorAll('.donation-amount').forEach(btn => {
                    btn.addEventListener('click', () => {
                        document.querySelectorAll('.donation-amount').forEach(b => b.classList.remove('selected'));
                        btn.classList.add('selected');
                        
                        const amount = btn.dataset.amount;
                        if (amount === 'custom') {
                            document.getElementById('customDonationAmount').style.display = 'block';
                            document.getElementById('customDonationAmount').focus();
                            selectedDonationAmount = 0;
                        } else {
                            document.getElementById('customDonationAmount').style.display = 'none';
                            selectedDonationAmount = parseInt(amount);
                        }
                    });
                });

                document.getElementById('customDonationAmount').addEventListener('input', () => {
                    selectedDonationAmount = parseInt(document.getElementById('customDonationAmount').value) || 0;
                });

                document.getElementById('nextToDonationStep2').addEventListener('click', () => {
                    if (selectedDonationAmount < 10000) {
                        this.showNotification('error', 'Xato', 'Minimal xayriya miqdori 10,000 so\'m');
                        return;
                    }
                    
                    document.getElementById('selectedAmountDisplay').textContent = this.formatNumber(selectedDonationAmount) + ' so\'m';
                    document.getElementById('donationStep1').classList.remove('active');
                    document.getElementById('donationStep2').classList.add('active');
                });

                document.getElementById('backToDonationStep1').addEventListener('click', () => {
                    document.getElementById('donationStep2').classList.remove('active');
                    document.getElementById('donationStep1').classList.add('active');
                });

                document.querySelectorAll('.payment-method-card').forEach(card => {
                    card.addEventListener('click', () => {
                        document.querySelectorAll('.payment-method-card').forEach(c => c.classList.remove('selected'));
                        card.classList.add('selected');
                        selectedPaymentMethod = card.dataset.method;
                    });
                });

                document.getElementById('nextToDonationStep3').addEventListener('click', () => {
                    if (!selectedPaymentMethod) {
                        this.showNotification('error', 'Xato', 'To\'lov usulini tanlang');
                        return;
                    }

                    if (!this.currentUser) {
                        document.getElementById('donationModal').classList.remove('show');
                        document.getElementById('loginModal').classList.add('show');
                        return;
                    }

                    loadRecipientPaymentInfo();
                    
                    document.getElementById('finalAmountDisplay').textContent = this.formatNumber(selectedDonationAmount) + ' so\'m';
                    document.getElementById('donationStep2').classList.remove('active');
                    document.getElementById('donationStep3').classList.add('active');
                    
                    showPaymentForm(selectedPaymentMethod);
                });

                document.getElementById('backToDonationStep2').addEventListener('click', () => {
                    document.getElementById('donationStep3').classList.remove('active');
                    document.getElementById('donationStep2').classList.add('active');
                });

                document.getElementById('proceedPaymentBtn').addEventListener('click', () => {
                    if (!validatePaymentForm()) return;

                    if (!document.getElementById('agreePayment').checked) {
                        this.showNotification('error', 'Xato', 'To\'lov shartlariga rozilik bering');
                        return;
                    }

                    document.getElementById('donationStep3').classList.remove('active');
                    document.getElementById('donationStep4').classList.add('active');
                    
                    setTimeout(() => {
                        processPayment();
                    }, 3000);
                });

                document.getElementById('closeDonationSuccess').addEventListener('click', () => {
                    document.getElementById('donationModal').classList.remove('show');
                    resetDonationModal();
                });

                // Other events...
                document.getElementById('toggleActivityFeed').addEventListener('click', () => {
                    document.getElementById('activityFeed').classList.toggle('translate-x-full');
                });

                document.getElementById('myProfileLink').addEventListener('click', (e) => {
                    e.preventDefault();
                    if (this.currentUser) {
                        loadProfileData();
                        document.getElementById('profileModal').classList.add('show');
                    }
                    document.getElementById('dropdownMenu').classList.add('hidden');
                });

                document.getElementById('closeProfileModal').addEventListener('click', () => {
                    document.getElementById('profileModal').classList.remove('show');
                });

                // Profile tabs
                document.querySelectorAll('.profile-tab').forEach(tab => {
                    tab.addEventListener('click', () => {
                        const targetTab = tab.dataset.tab;
                        
                        document.querySelectorAll('.profile-tab').forEach(t => {
                            t.classList.remove('active', 'text-blue-400', 'border-blue-400');
                            t.classList.add('text-gray-300');
                        });
                        tab.classList.add('active', 'text-blue-400', 'border-blue-400');
                        tab.classList.remove('text-gray-300');
                        
                        document.querySelectorAll('.profile-tab-content').forEach(content => {
                            content.classList.add('hidden');
                        });
                        document.getElementById(`profile${targetTab.charAt(0).toUpperCase() + targetTab.slice(1)}`).classList.remove('hidden');
                        
                        if (targetTab === 'donations') {
                            loadUserDonations();
                        } else if (targetTab === 'applications') {
                            loadUserApplications();
                        }
                    });
                });

                document.getElementById('profileForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    const firstName = document.getElementById('profileFirstName').value.trim();
                    const lastName = document.getElementById('profileLastName').value.trim();
                    const email = document.getElementById('profileEmail').value.trim();
                    
                    if (this.currentUser) {
                        this.currentUser.firstName = firstName;
                        this.currentUser.lastName = lastName;
                        this.currentUser.email = email;
                        
                        currentUser = this.currentUser;
                        updateUserInterface();
                        this.showNotification('success', 'Saqlandi!', 'Profil ma\'lumotlari yangilandi');
                    }
                });

                // Admin modal events
                document.getElementById('addAdminBtn').addEventListener('click', () => {
                    document.getElementById('addAdminModal').classList.add('show');
                });

                document.getElementById('closeAddAdminModal').addEventListener('click', () => {
                    document.getElementById('addAdminModal').classList.remove('show');
                });

                document.getElementById('addAdminForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    const name = document.getElementById('newAdminName').value.trim();
                    const phone = document.getElementById('newAdminPhone').value.trim();
                    const email = document.getElementById('newAdminEmail').value.trim();
                    const role = document.getElementById('newAdminRole').value;
                    
                    if (!name || !phone || !email || !role) {
                        this.showNotification('error', 'Xato', 'Barcha maydonlarni to\'ldiring');
                        return;
                    }
                    
                    const newAdmin = {
                        id: Date.now(),
                        name: name,
                        phone: phone,
                        email: email,
                        role: role,
                        createdAt: new Date().toISOString()
                    };
                    
                    if (role === 'admin') {
                        adminUsers.push(newAdmin);
                    } else {
                        moderators.push(newAdmin);
                    }
                    
                    document.getElementById('addAdminModal').classList.remove('show');
                    this.showNotification('success', 'Qo\'shildi!', `${role === 'admin' ? 'Admin' : 'Moderator'} muvaffaqiyatli qo\'shildi`);
                    
                    document.getElementById('addAdminForm').reset();
                    
                    loadAdminsList();
                });

                document.getElementById('saveSettingsBtn').addEventListener('click', () => {
                    const commission = document.getElementById('platformCommission').value;
                    const minDonation = document.getElementById('minDonationAmount').value;
                    
                    platformSettings.commission = parseInt(commission);
                    platformSettings.minDonation = parseInt(minDonation);
                    
                    this.showNotification('success', 'Saqlandi!', 'Platform sozlamalari yangilandi');
                });

                // Admin tabs
                document.querySelectorAll('.admin-tab').forEach(tab => {
                    tab.addEventListener('click', () => {
                        const targetTab = tab.dataset.tab;
                        
                        document.querySelectorAll('.admin-tab').forEach(t => {
                            t.classList.remove('active', 'text-purple-400', 'border-purple-400');
                            t.classList.add('text-gray-300');
                        });
                        tab.classList.add('active', 'text-purple-400', 'border-purple-400');
                        tab.classList.remove('text-gray-300');
                        
                        document.querySelectorAll('.admin-tab-content').forEach(content => {
                            content.classList.add('hidden');
                        });
                        document.getElementById(`admin${targetTab.charAt(0).toUpperCase() + targetTab.slice(1)}`).classList.remove('hidden');
                        
                        loadAdminTabData(targetTab);
                    });
                });

                // Mobile menu
                document.getElementById('menuBtn').addEventListener('click', () => {
                    document.getElementById('mobileMenu').classList.add('show');
                });

                document.getElementById('closeMobileMenu').addEventListener('click', () => {
                    document.getElementById('mobileMenu').classList.remove('show');
                });

                // Category filters
                document.querySelectorAll('.category-filter').forEach(filter => {
                    filter.addEventListener('click', () => {
                        document.querySelectorAll('.category-filter').forEach(f => f.classList.remove('active'));
                        filter.classList.add('active');
                        
                        const category = filter.dataset.category;
                        filterCampaignsByCategory(category);
                    });
                });

                // Contact form
                document.getElementById('contactForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    const name = document.getElementById('contactName').value.trim();
                    const phone = document.getElementById('contactPhone').value.trim();
                    const email = document.getElementById('contactEmail').value.trim();
                    const subject = document.getElementById('contactSubject').value.trim();
                    const message = document.getElementById('contactMessage').value.trim();
                    
                    if (!name || !phone || !email || !subject || !message) {
                        this.showNotification('error', 'Xato', 'Barcha maydonlarni to\'ldiring');
                        return;
                    }
                    
                    this.showNotification('success', 'Xabar yuborildi!', 'Tez orada siz bilan bog\'lanamiz');
                    e.target.reset();
                });

                // FAQ
                document.querySelectorAll('.faq-question').forEach(question => {
                    question.addEventListener('click', () => {
                        const targetId = question.dataset.target;
                        const answer = document.getElementById(targetId);
                        const icon = question.querySelector('i');
                        
                        if (answer.classList.contains('hidden')) {
                            answer.classList.remove('hidden');
                            icon.classList.remove('fa-chevron-down');
                            icon.classList.add('fa-chevron-up');
                        } else {
                            answer.classList.add('hidden');
                            icon.classList.remove('fa-chevron-up');
                            icon.classList.add('fa-chevron-down');
                        }
                    });
                });

                // Close modals on outside click
                document.querySelectorAll('.modal').forEach(modal => {
                    modal.addEventListener('click', (e) => {
                        if (e.target === modal) {
                            modal.classList.remove('show');
                        }
                    });
                });

                // Smooth scrolling
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        const target = document.querySelector(this.getAttribute('href'));
                        if (target) {
                            target.scrollIntoView({ behavior: 'smooth' });
                        }
                    });
                });

                // Load more buttons
                document.getElementById('loadMoreGlobalCampaigns').addEventListener('click', () => {
                    this.showNotification('info', 'Yuklash', 'Yangi kampaniyalar yuklanmoqda...');
                    setTimeout(() => {
                        this.showNotification('success', 'Yuklandi!', 'Yangi kampaniyalar qo\'shildi');
                    }, 1500);
                });

                document.getElementById('loadMoreApplications').addEventListener('click', () => {
                    this.showNotification('info', 'Yuklash', 'Yangi arizalar yuklanmoqda...');
                    setTimeout(() => {
                        this.showNotification('success', 'Yuklandi!', 'Yangi arizalar qo\'shildi');
                    }, 1500);
                });

                // File upload for ads
                document.getElementById('adType').addEventListener('change', (e) => {
                    const type = e.target.value;
                    document.getElementById('adImageSection').style.display = type === 'image' ? 'block' : 'none';
                    document.getElementById('adVideoSection').style.display = type === 'video' ? 'block' : 'none';
                });

                document.getElementById('saveAdvertisement').addEventListener('click', async () => {
                    const adData = {
                        title: document.getElementById('adTitle').value,
                        description: document.getElementById('adDescription').value,
                        type: document.getElementById('adType').value,
                        linkUrl: document.getElementById('adLinkUrl').value,
                        startDate: document.getElementById('adStartDate').value,
                        endDate: document.getElementById('adEndDate').value,
                        position: document.getElementById('adPosition').value,
                        active: document.getElementById('adActive').checked
                    };

                    const result = await this.createAdvertisement(adData);
                    if (result.success) {
                        document.getElementById('addAdvertisementModal').classList.remove('show');
                        this.showNotification('success', 'Saqlandi!', result.message);
                    }
                });

                document.getElementById('closeAddAdvertisementModal').addEventListener('click', () => {
                    document.getElementById('addAdvertisementModal').classList.remove('show');
                });
            }

            updateUIForLoggedInUser() {
                updateUserInterface();
            }

            showAdminPanel() {
                document.getElementById('adminSidebar').classList.add('show');
                document.getElementById('mainContent').classList.add('shifted');
                document.getElementById('adminContent').classList.remove('hidden');
                this.loadAdminUsers();
                this.loadAdminAdvertisements();
            }

            hideAdminPanel() {
                document.getElementById('adminSidebar').classList.remove('show');
                document.getElementById('mainContent').classList.remove('shifted');
                document.getElementById('adminContent').classList.add('hidden');
            }

            validateRegistrationStep1() {
                // Validation logic
                return true;
            }

            validateRegistrationStep2() {
                // Validation logic
                return true;
            }

            validateRegistrationStep3() {
                // Validation logic
                return true;
            }

            collectRegistrationData() {
                // Collect data logic
                return {};
            }

            openPaymentModal(campaignId) {
                currentDonationCampaign = campaignId;
                const campaign = this.database.campaigns.find(c => c.id === campaignId);
                if (campaign) {
                    document.getElementById('donationCampaignTitle').textContent = campaign.title;
                }
                document.getElementById('paymentModal').classList.add('show');
            }
        }

        // Utility functions from second code
        function formatCurrency(amount) {
            return new Intl.NumberFormat('uz-UZ').format(amount) + ' so\'m';
        }

        function updateUserInterface() {
            const guestMenu = document.getElementById('guestMenu');
            const userMenu = document.getElementById('userMenu');
            const userName = document.getElementById('userName');
            const userNameFull = document.getElementById('userNameFull');
            const userPhone = document.getElementById('userPhone');

            if (currentUser) {
                guestMenu.classList.add('hidden');
                userMenu.classList.remove('hidden');
                userName.textContent = currentUser.firstName;
                userNameFull.textContent = `${currentUser.firstName} ${currentUser.lastName}`;
                userPhone.textContent = currentUser.phone;
            } else {
                guestMenu.classList.remove('hidden');
                userMenu.classList.add('hidden');
            }
        }

        function loadProfileData() {
            if (currentUser) {
                document.getElementById('profileFirstName').value = currentUser.firstName || '';
                document.getElementById('profileLastName').value = currentUser.lastName || '';
                document.getElementById('profilePhone').value = currentUser.phone || '';
                document.getElementById('profileEmail').value = currentUser.email || '';
                
                const userDonations = donations.filter(d => d.userId === currentUser.id);
                const totalAmount = userDonations.reduce((sum, d) => sum + d.amount, 0);
                
                document.getElementById('userTotalDonations').textContent = userDonations.length;
                document.getElementById('userTotalAmount').textContent = formatCurrency(totalAmount);
            }
        }

        function loadUserDonations() {
            const container = document.getElementById('userDonationsList');
            const userDonations = donations.filter(d => d.userId === currentUser.id);
            
            if (userDonations.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">Hali xayriya qilmagansiz</p>';
                return;
            }
            
            container.innerHTML = userDonations.map(donation => `
                <div class="bg-gray-50 bg-opacity-20 p-4 rounded-xl">
                    <div class="flex justify-between items-start">
                        <div>
                            <h5 class="font-medium text-white">${donation.campaignTitle}</h5>
                            <p class="text-sm text-gray-300">${new Date(donation.date).toLocaleDateString('uz-UZ')}</p>
                        </div>
                        <div class="text-right">
                            <p class="font-bold text-green-400">${formatCurrency(donation.amount)}</p>
                            <p class="text-sm text-gray-300">${donation.method}</p>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function loadUserApplications() {
            const container = document.getElementById('userApplicationsList');
            const userApplications = applications.filter(a => a.userId === currentUser.id);
            
            if (userApplications.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">Hali ariza bermagansiz</p>';
                return;
            }
            
            container.innerHTML = userApplications.map(app => `
                <div class="bg-gray-50 bg-opacity-20 p-4 rounded-xl">
                    <div class="flex justify-between items-start mb-2">
                        <h5 class="font-medium text-white">${app.title}</h5>
                        <span class="px-2 py-1 rounded-full text-xs font-medium ${
                            app.status === 'approved' ? 'bg-green-100 bg-opacity-20 text-green-400' :
                            app.status === 'rejected' ? 'bg-red-100 bg-opacity-20 text-red-400' :
                            'bg-yellow-100 bg-opacity-20 text-yellow-400'
                        }">
                            ${app.status === 'approved' ? 'Tasdiqlangan' :
                              app.status === 'rejected' ? 'Rad etilgan' : 'Kutilmoqda'}
                        </span>
                    </div>
                    <p class="text-sm text-gray-300 mb-2">${app.description.substring(0, 100)}...</p>
                    <div class="flex justify-between text-sm text-gray-400">
                        <span>${formatCurrency(app.amount)}</span>
                        <span>${new Date(app.date).toLocaleDateString('uz-UZ')}</span>
                    </div>
                </div>
            `).join('');
        }

        function loadAdminTabData(tab) {
            switch(tab) {
                case 'campaigns':
                    loadCampaignsList();
                    break;
                case 'applications':
                    loadApplicationsList();
                    break;
                case 'users':
                    loadUsersList();
                    break;
                case 'payments':
                    loadPaymentsList();
                    break;
                case 'admins':
                    loadAdminsList();
                    break;
                case 'settings':
                    loadSettings();
                    break;
            }
        }

        function loadCampaignsList() {
            const container = document.getElementById('adminCampaignsList');
            
            if (campaigns.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">Hali kampaniyalar yo\'q</p>';
                return;
            }
            
            container.innerHTML = campaigns.map(campaign => `
                <div class="bg-gray-50 bg-opacity-20 p-6 rounded-xl">
                    <div class="flex justify-between items-start">
                        <div class="flex-1">
                            <h5 class="font-bold text-white mb-2">${campaign.title}</h5>
                            <p class="text-gray-300 mb-3">${campaign.description.substring(0, 150)}...</p>
                            <div class="grid grid-cols-3 gap-4 text-sm">
                                <div>
                                    <span class="text-gray-400">Maqsad:</span>
                                    <p class="font-medium">${formatCurrency(campaign.target)}</p>
                                </div>
                                <div>
                                    <span class="text-gray-400">Yig'ilgan:</span>
                                    <p class="font-medium text-green-400">${formatCurrency(campaign.raised)}</p>
                                </div>
                                <div>
                                    <span class="text-gray-400">Xayriyachilar:</span>
                                    <p class="font-medium">${campaign.donors}</p>
                                </div>
                            </div>
                        </div>
                        <div class="flex space-x-2 ml-4">
                            <button class="px-3 py-1 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700">
                                <i class="fas fa-edit mr-1"></i>Tahrirlash
                            </button>
                            <button class="px-3 py-1 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700">
                                <i class="fas fa-trash mr-1"></i>O'chirish
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function loadApplicationsList() {
            const container = document.getElementById('adminApplicationsList');
            
            if (applications.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">Hali arizalar yo\'q</p>';
                return;
            }
            
            container.innerHTML = applications.map(app => `
                <div class="bg-white bg-opacity-10 p-6 rounded-xl border border-white border-opacity-20">
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex-1">
                            <h5 class="font-bold text-white mb-2">${app.title}</h5>
                            <p class="text-gray-300 mb-3">${app.description}</p>
                            <div class="grid grid-cols-2 gap-4 text-sm">
                                <div>
                                    <span class="text-gray-400">Miqdor:</span>
                                    <p class="font-medium text-red-400">${formatCurrency(app.amount)}</p>
                                </div>
                                <div>
                                    <span class="text-gray-400">Ariza beruvchi:</span>
                                    <p class="font-medium">${app.applicantName}</p>
                                </div>
                                <div>
                                    <span class="text-gray-400">Telefon:</span>
                                    <p class="font-medium">${app.phone}</p>
                                </div>
                                <div>
                                    <span class="text-gray-400">Sana:</span>
                                    <p class="font-medium">${new Date(app.date).toLocaleDateString('uz-UZ')}</p>
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-col space-y-2 ml-4">
                            <span class="px-3 py-1 rounded-full text-xs font-medium ${
                                app.status === 'approved' ? 'bg-green-100 bg-opacity-20 text-green-400' :
                                app.status === 'rejected' ? 'bg-red-100 bg-opacity-20 text-red-400' :
                                'bg-yellow-100 bg-opacity-20 text-yellow-400'
                            }">
                                ${app.status === 'approved' ? 'Tasdiqlangan' :
                                  app.status === 'rejected' ? 'Rad etilgan' : 'Kutilmoqda'}
                            </span>
                            ${app.status === 'pending' ? `
                                <div class="flex space-x-2">
                                    <button onclick="approveApplication('${app.id}')" class="px-3 py-1 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700">
                                        <i class="fas fa-check mr-1"></i>Tasdiqlash
                                    </button>
                                    <button onclick="rejectApplication('${app.id}')" class="px-3 py-1 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700">
                                        <i class="fas fa-times mr-1"></i>Rad etish
                                    </button>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function loadUsersList() {
            const container = document.getElementById('adminUsersList');
            const users = [
                { id: 1, name: 'Test Foydalanuvchi', phone: '+998901234567', email: 'test@example.com', donations: 5, totalAmount: 500000 },
                { id: 2, name: 'Jasurbek Jo\'lanboyev', phone: '+998958883851', email: 'jasurbekjolanboyev970@gmail.com', donations: 0, totalAmount: 0 }
            ];
            
            container.innerHTML = users.map(user => `
                <div class="bg-white bg-opacity-10 p-6 rounded-xl border border-white border-opacity-20">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-blue-100 bg-opacity-20 rounded-full flex items-center justify-center">
                                <i class="fas fa-user text-blue-600"></i>
                            </div>
                            <div>
                                <h5 class="font-bold text-white">${user.name}</h5>
                                <p class="text-gray-300">${user.phone}</p>
                                <p class="text-sm text-gray-400">${user.email}</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="font-medium text-green-400">${user.donations} xayriya</p>
                            <p class="text-sm text-gray-400">${formatCurrency(user.totalAmount)}</p>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function loadPaymentsList() {
            const container = document.getElementById('adminPaymentsList');
            
            const totalAmount = donations.reduce((sum, d) => sum + d.amount, 0);
            const totalCommission = totalAmount * (platformSettings.commission / 100);
            const averageAmount = donations.length > 0 ? totalAmount / donations.length : 0;
            
            document.getElementById('totalPayments').textContent = formatCurrency(totalAmount);
            document.getElementById('paymentsCount').textContent = donations.length;
            document.getElementById('totalCommission').textContent = formatCurrency(totalCommission);
            document.getElementById('averagePayment').textContent = formatCurrency(averageAmount);
            
            if (donations.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">Hali to\'lovlar yo\'q</p>';
                return;
            }
            
            container.innerHTML = donations.map(payment => `
                <div class="bg-white bg-opacity-10 p-4 rounded-xl border border-white border-opacity-20">
                    <div class="flex justify-between items-center">
                        <div>
                            <h5 class="font-medium text-white">${payment.campaignTitle}</h5>
                            <p class="text-sm text-gray-300">${payment.userName}</p>
                            <p class="text-xs text-gray-400">${new Date(payment.date).toLocaleString('uz-UZ')}</p>
                        </div>
                        <div class="text-right">
                            <p class="font-bold text-green-400">${formatCurrency(payment.amount)}</p>
                            <p class="text-sm text-gray-300">${payment.method}</p>
                            <p class="text-xs text-purple-400">Komissiya: ${formatCurrency(payment.amount * (platformSettings.commission / 100))}</p>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function loadAdminsList() {
            const container = document.getElementById('adminAdminsList');
            const allAdmins = [...adminUsers, ...moderators];
            
            container.innerHTML = allAdmins.map(admin => `
                <div class="bg-white bg-opacity-10 p-6 rounded-xl border border-white border-opacity-20">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 ${admin.role === 'admin' ? 'bg-purple-100 bg-opacity-20' : 'bg-blue-100 bg-opacity-20'} rounded-full flex items-center justify-center">
                                <i class="fas ${admin.role === 'admin' ? 'fa-user-shield text-purple-600' : 'fa-user-cog text-blue-600'}"></i>
                            </div>
                            <div>
                                <h5 class="font-bold text-white">${admin.name}</h5>
                                <p class="text-gray-300">${admin.phone}</p>
                                <p class="text-sm text-gray-400">${admin.email}</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <span class="px-3 py-1 rounded-full text-sm font-medium ${
                                admin.role === 'admin' ? 'bg-purple-100 bg-opacity-20 text-purple-400' : 'bg-blue-100 bg-opacity-20 text-blue-400'
                            }">
                                ${admin.role === 'admin' ? 'Admin' : 'Moderator'}
                            </span>
                            ${admin.phone !== '+998958883851' ? `
                                <button onclick="removeAdmin('${admin.id}', '${admin.role}')" class="ml-2 px-3 py-1 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700">
                                    <i class="fas fa-trash"></i>
                                </button>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function loadSettings() {
            document.getElementById('platformCommission').value = platformSettings.commission;
            document.getElementById('minDonationAmount').value = platformSettings.minDonation;
        }

        // Additional functions from second code
        function validatePaymentForm() {
            if (selectedPaymentMethod === 'card') {
                const cardType = document.getElementById('cardType').value;
                const cardNumber = document.getElementById('cardNumber').value;
                const cardExpiry = document.getElementById('cardExpiry').value;
                const cardCvv = document.getElementById('cardCvv').value;
                const cardHolder = document.getElementById('cardHolder').value;
                
                if (!cardType || !cardNumber || !cardExpiry || !cardCvv || !cardHolder) {
                    showNotification('Xato', 'Barcha karta ma\'lumotlarini to\'ldiring', 'error');
                    return false;
                }
                
                if (cardNumber.replace(/\s/g, '').length < 16) {
                    showNotification('Xato', 'Karta raqami noto\'g\'ri', 'error');
                    return false;
                }
            } else if (selectedPaymentMethod === 'payme') {
                const phone = document.getElementById('paymePhone').value;
                if (!phone) {
                    showNotification('Xato', 'Telefon raqamni kiriting', 'error');
                    return false;
                }
            } else if (selectedPaymentMethod === 'click') {
                const phone = document.getElementById('clickPhone').value;
                if (!phone) {
                    showNotification('Xato', 'Telefon raqamni kiriting', 'error');
                    return false;
                }
            }
            
            return true;
        }

        function processPayment() {
            const transactionId = 'TXN' + Date.now();
            
            const donation = {
                id: Date.now(),
                userId: currentUser.id,
                campaignId: currentDonationCampaign,
                campaignTitle: document.getElementById('donationCampaignTitle').textContent,
                userName: `${currentUser.firstName} ${currentUser.lastName}`,
                amount: selectedDonationAmount,
                method: getPaymentMethodName(selectedPaymentMethod),
                date: new Date().toISOString(),
                transactionId: transactionId,
                status: 'completed'
            };
            
            donations.push(donation);
            
            const campaign = campaigns.find(c => c.id == currentDonationCampaign);
            if (campaign) {
                campaign.raised += selectedDonationAmount;
                campaign.donors += 1;
            }
            
            document.getElementById('successAmount').textContent = formatCurrency(selectedDonationAmount);
            document.getElementById('successMethod').textContent = getPaymentMethodName(selectedPaymentMethod);
            document.getElementById('transactionId').textContent = transactionId;
            document.getElementById('successDate').textContent = new Date().toLocaleString('uz-UZ');
            
            document.getElementById('donationStep4').classList.remove('active');
            document.getElementById('donationStep5').classList.add('active');
            
            showNotification('To\'lov muvaffaqiyatli!', 'Xayriyangiz uchun rahmat!', 'success');
        }

        function getPaymentMethodName(method) {
            const names = {
                'card': 'Bank kartasi',
                'payme': 'Payme',
                'click': 'Click'
            };
            return names[method] || method;
        }

        function resetDonationModal() {
            document.querySelectorAll('.payment-step').forEach(step => step.classList.remove('active'));
            document.getElementById('donationStep1').classList.add('active');
            
            selectedDonationAmount = 0;
            selectedPaymentMethod = '';
            currentDonationCampaign = null;
            
            document.querySelectorAll('.donation-amount').forEach(b => b.classList.remove('selected'));
            document.querySelectorAll('.payment-method-card').forEach(c => c.classList.remove('selected'));
            document.getElementById('customDonationAmount').value = '';
            document.getElementById('customDonationAmount').style.display = 'none';
            
            document.getElementById('cardType').value = '';
            document.getElementById('cardNumber').value = '';
            document.getElementById('cardExpiry').value = '';
            document.getElementById('cardCvv').value = '';
            document.getElementById('cardHolder').value = '';
            document.getElementById('paymePhone').value = '';
            document.getElementById('clickPhone').value = '';
            document.getElementById('agreePayment').checked = false;
        }

        function validateRecipientPaymentInfo(type) {
            if (type === 'card') {
                const cardType = document.getElementById('recipientCardType').value;
                const cardNumber = document.getElementById('recipientCardNumber').value;
                const cardHolder = document.getElementById('recipientCardHolder').value;
                
                if (!cardType || !cardNumber || !cardHolder) {
                    showNotification('Xato', 'Barcha karta ma\'lumotlarini to\'ldiring', 'error');
                    return false;
                }
            } else if (type === 'account') {
                const bankName = document.getElementById('recipientBankName').value;
                const accountNumber = document.getElementById('recipientAccountNumber').value;
                const accountHolder = document.getElementById('recipientAccountHolder').value;
                
                if (!bankName || !accountNumber || !accountHolder) {
                    showNotification('Xato', 'Barcha hisob ma\'lumotlarini to\'ldiring', 'error');
                    return false;
                }
            } else if (type === 'payme') {
                const phone = document.getElementById('recipientPaymePhone').value;
                if (!phone) {
                    showNotification('Xato', 'Payme telefon raqamini kiriting', 'error');
                    return false;
                }
            } else if (type === 'click') {
                const phone = document.getElementById('recipientClickPhone').value;
                if (!phone) {
                    showNotification('Xato', 'Click telefon raqamini kiriting', 'error');
                    return false;
                }
            }
            
            return true;
        }

        function getRecipientPaymentInfo(type) {
            if (type === 'card') {
                return {
                    type: 'card',
                    cardType: document.getElementById('recipientCardType').value,
                    cardNumber: document.getElementById('recipientCardNumber').value,
                    cardHolder: document.getElementById('recipientCardHolder').value
                };
            } else if (type === 'account') {
                return {
                    type: 'account',
                    bankName: document.getElementById('recipientBankName').value,
                    accountNumber: document.getElementById('recipientAccountNumber').value,
                    accountHolder: document.getElementById('recipientAccountHolder').value
                };
            } else if (type === 'payme') {
                return {
                    type: 'payme',
                    phone: document.getElementById('recipientPaymePhone').value
                };
            } else if (type === 'click') {
                return {
                    type: 'click',
                    phone: document.getElementById('recipientClickPhone').value
                };
            }
        }

        function loadRecipientPaymentInfo() {
            const campaign = campaigns.find(c => c.id == currentDonationCampaign);
            if (campaign && campaign.recipientPayment) {
                recipientPaymentInfo = campaign.recipientPayment;
                displayRecipientInfo(campaign.recipientPayment);
            } else {
                recipientPaymentInfo = {
                    type: 'card',
                    cardType: 'uzcard',
                    cardNumber: '8600 1234 5678 9012',
                    cardHolder: 'JOHN DOE'
                };
                displayRecipientInfo(recipientPaymentInfo);
            }
        }

        function displayRecipientInfo(paymentInfo) {
            const container = document.getElementById('recipientCardDetails');
            let html = '';
            
            if (paymentInfo.type === 'card') {
                html = `
                    <div class="flex justify-between">
                        <span class="text-gray-300">Karta turi:</span>
                        <span class="font-medium">${paymentInfo.cardType?.toUpperCase()}</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-gray-300">Karta raqami:</span>
                        <span class="font-mono">${paymentInfo.cardNumber}</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-gray-300">Karta egasi:</span>
                        <span class="font-medium">${paymentInfo.cardHolder}</span>
                    </div>
                `;
            } else if (paymentInfo.type === 'account') {
                html = `
                    <div class="flex justify-between">
                        <span class="text-gray-300">Bank:</span>
                        <span class="font-medium">${paymentInfo.bankName}</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-gray-300">Hisob raqami:</span>
                        <span class="font-mono">${paymentInfo.accountNumber}</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-gray-300">Hisob egasi:</span>
                        <span class="font-medium">${paymentInfo.accountHolder}</span>
                    </div>
                `;
            } else if (paymentInfo.type === 'payme') {
                html = `
                    <div class="flex justify-between">
                        <span class="text-gray-300">Payme raqami:</span>
                        <span class="font-mono">${paymentInfo.phone}</span>
                    </div>
                `;
            } else if (paymentInfo.type === 'click') {
                html = `
                    <div class="flex justify-between">
                        <span class="text-gray-300">Click raqami:</span>
                        <span class="font-mono">${paymentInfo.phone}</span>
                    </div>
                `;
            }
            
            container.innerHTML = html;
        }

        function showPaymentForm(method) {
            document.getElementById('cardPaymentForm').classList.add('hidden');
            document.getElementById('paymePaymentForm').classList.add('hidden');
            document.getElementById('clickPaymentForm').classList.add('hidden');
            
            if (method === 'card') {
                document.getElementById('cardPaymentForm').classList.remove('hidden');
            } else if (method === 'payme') {
                document.getElementById('paymePaymentForm').classList.remove('hidden');
            } else if (method === 'click') {
                document.getElementById('clickPaymentForm').classList.remove('hidden');
            }
        }

        function showApplicationDetail(applicationId) {
            const application = applications.find(app => app.id === applicationId);
            if (!application) return;
            
            const content = document.getElementById('applicationDetailContent');
            const title = document.getElementById('applicationDetailTitle');
            
            title.textContent = application.title;
            
            const statusColors = {
                'pending': 'bg-yellow-100 bg-opacity-20 text-yellow-400',
                'approved': 'bg-green-100 bg-opacity-20 text-green-400',
                'rejected': 'bg-red-100 bg-opacity-20 text-red-400'
            };
            
            const statusTexts = {
                'pending': 'Kutilmoqda',
                'approved': 'Tasdiqlangan',
                'rejected': 'Rad etilgan'
            };
            
            const categoryNames = {
                'health': 'Sog\'liqni saqlash',
                'education': 'Ta\'lim',
                'children': 'Bolalar',
                'emergency': 'Favqulodda vaziyat',
                'family': 'Oilaviy muammolar',
                'disability': 'Nogironlik'
            };
            
            content.innerHTML = `
                <div class="bg-gray-50 bg-opacity-20 p-6 rounded-xl">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <span class="px-3 py-1 rounded-full text-sm font-medium bg-blue-100 bg-opacity-20 text-blue-400">
                                ${categoryNames[application.category] || application.category}
                            </span>
                        </div>
                        <span class="px-3 py-1 rounded-full text-sm font-medium ${statusColors[application.status]}">
                            ${statusTexts[application.status]}
                        </span>
                    </div>
                    
                    <h4 class="text-xl font-bold text-white mb-4">${application.title}</h4>
                    
                    <div class="space-y-4">
                        <div>
                            <h5 class="font-medium text-gray-300 mb-2">Tavsif:</h5>
                            <p class="text-gray-400 leading-relaxed">${application.description}</p>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="bg-white bg-opacity-10 p-4 rounded-lg">
                                <h5 class="font-medium text-gray-300 mb-2">Kerakli miqdor:</h5>
                                <p class="text-2xl font-bold text-red-400">${formatCurrency(application.amount)}</p>
                            </div>
                            
                            <div class="bg-white bg-opacity-10 p-4 rounded-lg">
                                <h5 class="font-medium text-gray-300 mb-2">Ariza beruvchi:</h5>
                                <p class="font-medium text-white">${application.applicantName}</p>
                                <p class="text-sm text-gray-400">${application.phone}</p>
                                ${application.email ? `<p class="text-sm text-gray-400">${application.email}</p>` : ''}
                            </div>
                        </div>
                        
                        <div class="bg-white bg-opacity-10 p-4 rounded-lg">
                            <h5 class="font-medium text-gray-300 mb-2">Ariza sanasi:</h5>
                            <p class="text-gray-400">${new Date(application.date).toLocaleDateString('uz-UZ', {
                                year: 'numeric',
                                month: 'long',
                                day: 'numeric',
                                hour: '2-digit',
                                minute: '2-digit'
                            })}</p>
                        </div>
                        
                        ${application.recipientPayment ? `
                            <div class="bg-blue-50 bg-opacity-20 p-4 rounded-lg">
                                <h5 class="font-medium text-gray-300 mb-3">To'lov qabul qilish ma'lumotlari:</h5>
                                ${getRecipientPaymentDisplay(application.recipientPayment)}
                            </div>
                        ` : ''}
                    </div>
                </div>
                
                ${application.status === 'approved' ? `
                    <div class="text-center">
                        <button onclick="createCampaignFromApplication('${application.id}')" class="btn-primary text-white px-6 py-3 rounded-xl font-medium">
                            <i class="fas fa-bullhorn mr-2"></i>Kampaniya yaratish
                        </button>
                    </div>
                ` : ''}
            `;
            
            document.getElementById('applicationDetailModal').classList.add('show');
        }

        function getRecipientPaymentDisplay(paymentInfo) {
            // Implementation as in second code, adapted for glass theme
            if (paymentInfo.type === 'card') {
                return `
                    <div class="space-y-2 text-gray-400">
                        <div class="flex justify-between">
                            <span>Karta turi:</span>
                            <span class="font-medium">${paymentInfo.cardType?.toUpperCase()}</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Karta raqami:</span>
                            <span class="font-mono">${paymentInfo.cardNumber}</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Karta egasi:</span>
                            <span class="font-medium">${paymentInfo.cardHolder}</span>
                        </div>
                    </div>
                `;
            }
            // Similar for other types...
            return '';
        }

        function createCampaignFromApplication(applicationId) {
            const application = applications.find(app => app.id === applicationId);
            if (!application) return;
            
            const newCampaign = {
                id: Date.now(),
                title: application.title,
                description: application.description,
                target: application.amount,
                raised: 0,
                donors: 0,
                category: application.category,
                status: 'active',
                createdAt: new Date().toISOString(),
                recipientPayment: application.recipientPayment
            };
            
            campaigns.push(newCampaign);
            
            addCampaignToPage(newCampaign);
            
            document.getElementById('applicationDetailModal').classList.remove('show');
            showNotification('Kampaniya yaratildi!', 'Ariza asosida yangi kampaniya yaratildi', 'success');
        }

        function addCampaignToPage(campaign) {
            // Implementation as in second code
            const campaignsGrid = document.getElementById('globalCampaignsGrid');
            // ... create and append card
        }

        function filterCampaignsByCategory(category) {
            // Implementation as in second code
        }

        function approveApplication(appId) {
            const app = applications.find(a => a.id === appId);
            if (app) {
                app.status = 'approved';
                showNotification('Tasdiqlandi!', 'Ariza tasdiqlandi va kampaniya yaratildi', 'success');
                
                const newCampaign = {
                    id: Date.now(),
                    title: app.title,
                    description: app.description,
                    target: app.amount,
                    raised: 0,
                    donors: 0,
                    category: app.category,
                    status: 'active',
                    createdAt: new Date().toISOString()
                };
                campaigns.push(newCampaign);
                
                loadApplicationsList();
            }
        }

        function rejectApplication(appId) {
            const app = applications.find(a => a.id === appId);
            if (app) {
                app.status = 'rejected';
                showNotification('Rad etildi', 'Ariza rad etildi', 'warning');
                loadApplicationsList();
            }
        }

        function removeAdmin(adminId, role) {
            if (confirm('Rostdan ham o\'chirmoqchimisiz?')) {
                if (role === 'admin') {
                    const index = adminUsers.findIndex(a => a.id == adminId);
                    if (index > -1) adminUsers.splice(index, 1);
                } else {
                    const index = moderators.findIndex(m => m.id == adminId);
                    if (index > -1) moderators.splice(index, 1);
                }
                
                showNotification('O\'chirildi!', `${role === 'admin' ? 'Admin' : 'Moderator'} o\'chirildi`, 'success');
                loadAdminsList();
            }
        }

        // Initialize the system
        const backend = new CompleteBackendSystem();
    </script>
</body>
</html>
